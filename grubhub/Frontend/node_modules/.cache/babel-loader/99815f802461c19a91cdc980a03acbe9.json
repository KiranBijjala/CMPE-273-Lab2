{"ast":null,"code":"var _jsxFileName = \"/Users/kirankumarbijjala/Documents/Lab2/grubhub/Frontend/src/components/OwnerMessage.js\";\nimport React, { Component } from 'react';\nimport '../App.css'; // import '../css/bootstrap.css';\n\nimport axios from 'axios';\nimport NavBar from './NavBar';\nimport { Redirect } from 'react-router';\nimport { Link } from 'react-router-dom';\nimport Reply from \"./Reply\";\nconst ROOT_URL = 'http://localhost:3001';\n\nclass OwnerMessage extends Component {\n  constructor(props) {\n    super(props);\n\n    this.logout = () => {\n      sessionStorage.removeItem(\"OwnerJWT\");\n      sessionStorage.removeItem(\"Owneremail\");\n      sessionStorage.removeItem(\"Ownerpassword\");\n    };\n\n    this.state = {\n      msg: [],\n      owneremail: \"\",\n      orderid: \"\",\n      buyeremail: \"\",\n      question: \"\",\n      reply: \"\",\n      writereply: \"\",\n      update: \"\"\n    };\n    this.updateState = this.updateState.bind(this);\n  } //Get Messages \n\n\n  componentDidMount() {\n    var email = sessionStorage.getItem(\"ownerdata\")[0].email;\n    console.log(email);\n    axios.get(\"\".concat(ROOT_URL, \"/GetMessage\"), {\n      params: {\n        id: email\n      }\n    }).then(response => {\n      console.log(response);\n      console.log(response.data);\n      this.setState({\n        msg: response.data\n      });\n    });\n  }\n\n  updateState() {\n    console.log(\"update\");\n    console.log(this.state);\n    this.setState({\n      update: true\n    });\n    console.log(this.state);\n  }\n\n  render() {\n    var replyerr;\n    console.log(\"+++++++++\");\n    var msgbox = this.state.msg.map(msg => {\n      if (msg.question == \"\" || null) {\n        replyerr = React.createElement(\"div\", {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 75\n          },\n          __self: this\n        }, React.createElement(\"img\", {\n          style: {\n            maxWidth: \"360px\"\n          },\n          src: require(\"../image/message.png\"),\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 76\n          },\n          __self: this\n        }));\n      }\n\n      return React.createElement(\"div\", {\n        className: \"col-md-7\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 82\n        },\n        __self: this\n      }, React.createElement(\"div\", {\n        className: \"container\",\n        style: {\n          width: \"530px\"\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 84\n        },\n        __self: this\n      }, React.createElement(\"ul\", {\n        className: \"col-md-8 list-group\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 85\n        },\n        __self: this\n      }, React.createElement(\"h2\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 87\n        },\n        __self: this\n      }, \" Message for \", msg.orderid), replyerr, React.createElement(\"div\", {\n        className: \"container\",\n        style: {\n          width: \"380px\"\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 89\n        },\n        __self: this\n      }, React.createElement(\"h5\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 90\n        },\n        __self: this\n      }, \"Buyer : \", msg.buyeremail, \" \"), React.createElement(\"h4\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 91\n        },\n        __self: this\n      }, msg.question)), msg.reply != undefined ? React.createElement(\"div\", {\n        className: \"container darker\",\n        style: {\n          width: \"394px\",\n          marginLeft: \"83px\"\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 94\n        },\n        __self: this\n      }, React.createElement(\"h4\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 95\n        },\n        __self: this\n      }, msg.reply)) : null, React.createElement(Reply, {\n        data: msg,\n        status: this.state.update,\n        update: this.updateState,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 98\n        },\n        __self: this\n      }))));\n    });\n    return React.createElement(\"div\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 110\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      className: \"container-fluid\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 112\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      className: \"container-fluid\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 113\n      },\n      __self: this\n    }, React.createElement(\"ul\", {\n      className: \"nav nav-tabs\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 114\n      },\n      __self: this\n    }, React.createElement(\"li\", {\n      style: {\n        paddingLeft: \"11%\"\n      },\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 116\n      },\n      __self: this\n    }, React.createElement(Link, {\n      to: \"/OwnerMessage\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 116\n      },\n      __self: this\n    }, \"Owner Message\")), React.createElement(\"li\", {\n      style: {\n        paddingLeft: \"11%\"\n      },\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 117\n      },\n      __self: this\n    }, React.createElement(Link, {\n      to: \"/\",\n      onClick: this.logout,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 117\n      },\n      __self: this\n    }, \"Logout\")))), msgbox));\n  }\n\n}\n\nexport default OwnerMessage;","map":{"version":3,"sources":["/Users/kirankumarbijjala/Documents/Lab2/grubhub/Frontend/src/components/OwnerMessage.js"],"names":["React","Component","axios","NavBar","Redirect","Link","Reply","ROOT_URL","OwnerMessage","constructor","props","logout","sessionStorage","removeItem","state","msg","owneremail","orderid","buyeremail","question","reply","writereply","update","updateState","bind","componentDidMount","email","getItem","console","log","get","params","id","then","response","data","setState","render","replyerr","msgbox","map","maxWidth","require","width","undefined","marginLeft","paddingLeft"],"mappings":"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","sourcesContent":["import React, { Component } from 'react';\nimport '../App.css';\n// import '../css/bootstrap.css';\nimport axios from 'axios';\nimport NavBar from './NavBar';\nimport {Redirect} from 'react-router';\nimport {Link} from 'react-router-dom';\nimport Reply from \"./Reply\";\n\nconst ROOT_URL = 'http://localhost:3001'\n\n\nclass OwnerMessage extends Component{\n       constructor(props){\n        super(props);\n        this.state = {\n            msg : [],\n            owneremail : \"\",\n            orderid : \"\",\n            buyeremail : \"\",\n            question : \"\",\n            reply : \"\",\n            writereply : \"\",\n            update : \"\",\n          };\n    this.updateState  = this.updateState.bind(this)\n\n        }\n\n      //Get Messages \n        componentDidMount(){\n           \n            var email = sessionStorage.getItem(\"ownerdata\")[0].email;   \n            console.log(email);     \n            axios.get(`${ROOT_URL}/GetMessage`,{\n                params: {\n                    id : email\n                }})\n                    .then((response) => {\n                    console.log(response);\n                    console.log(response.data);\n                    \n                    this.setState({\n                        msg : response.data\n                    })\n                   \n                });\n        }\n\n       \n    logout = () => {    \n        sessionStorage.removeItem(\"OwnerJWT\");\n        sessionStorage.removeItem(\"Owneremail\");\n        sessionStorage.removeItem(\"Ownerpassword\");\n      }\n\n      updateState(){\n          console.log(\"update\")\n          console.log(this.state)\n\n          this.setState({\n              update : true\n          })\n          console.log(this.state)\n      }\n\n\n    render(){\n            var replyerr;\n            console.log(\"+++++++++\")\n            var msgbox = this.state.msg.map((msg)=>{\n\n\n            if(msg.question == \"\" || null){\n                replyerr = <div>\n                <img  style={{maxWidth: \"360px\"}} src={require(\"../image/message.png\")} />\n                           </div> \n               }\n    \n\n            return(\n                    <div className=\"col-md-7\">\n\n                    <div className=\"container\" style={{width :\"530px\"}}>  \n                    <ul className=\"col-md-8 list-group\">\n\n                        <h2> Message for {msg.orderid}</h2>\n                    {replyerr}\n                    <div className=\"container\"  style={{width :\"380px\"}}>\n                    <h5>Buyer : {msg.buyeremail} </h5>\n                    <h4>{msg.question}</h4>\n                    </div>\n\n                    {msg.reply != undefined ? <div className=\"container darker\" style={{width :\"394px\", marginLeft : \"83px\"}}>\n                        <h4>{msg.reply}</h4>\n                        </div> : null}\n\n                      <Reply data = {msg} status = {this.state.update} update = {this.updateState}/>   \n\n                    </ul> \n                    </div>\n                    </div>\n\n            )\n\n        }) \n\n        return(\n            \n            <div> \n            {/* <NavBar /> */}\n          <div className =\"container-fluid\">\n            <div className=\"container-fluid\">\n             <ul className=\"nav nav-tabs\" >\n                 {/* <li style= {{paddingLeft : \"11%\" }}><Link to=\"/OwnerDashboard\">OwnerDashboard</Link></li> */}\n                 <li style= {{paddingLeft : \"11%\" }}><Link to=\"/OwnerMessage\">Owner Message</Link></li>\n                 <li style= {{paddingLeft : \"11%\" }}><Link to='/' onClick={this.logout} >Logout</Link></li> \n             </ul>\n             </div>\n\n                    {msgbox}           \n            </div>\n    \n            </div>\n        )\n    }\n}\n export default OwnerMessage;\n"]},"metadata":{},"sourceType":"module"}