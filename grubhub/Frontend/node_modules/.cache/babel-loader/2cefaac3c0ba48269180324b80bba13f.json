{"ast":null,"code":"var _jsxFileName = \"/Users/kirankumarbijjala/Documents/Redux Grubhub Final/Frontend/src/components/Existingusersignin.js\";\nimport React, { Component } from 'react';\nimport '../../App.css';\nimport './BuyerProfile.css';\nimport axios from 'axios';\nimport cookie from 'react-cookies';\nimport { Redirect } from 'react-router';\nimport { Link } from 'react-router-dom';\nimport { getProfile } from '../../actions';\nimport { loginuser } from '../../actions';\nimport { getUserImage } from '../../actions';\nimport { connect } from 'react-redux';\nimport BuyerOwnerNav from '../Display/BuyerOwnerNav';\nimport { Field, reduxForm } from 'redux-form'; // Define a Login Component\n\nclass BuyerProfile extends Component {\n  // call the constructor method\n  constructor(props) {\n    // Call the constrictor of Super class i.e The Component\n    super(props); // maintain the state required for this component\n\n    this.onSubmitUsername = formValues => {\n      console.log('OnSubmit' + formValues);\n      let data = {\n        firstname: formValues.firstname,\n        lastname: formValues.lastname,\n        email: formValues.email,\n        password: formValues.password\n      };\n      axios.defaults.withCredentials = true;\n      console.log(data);\n      axios.post('http://localhost:3001/updateusername', data).then(response => {\n        console.log('Status Code : ', response.status);\n\n        if (response.status === 200) {\n          sessionStorage.setItem('email', data.email);\n          this.setState({\n            authFlag: true\n          });\n        }\n      }).catch(err => {\n        this.setState({\n          authFailed: true\n        });\n      });\n      this.props.loginuser(data);\n    };\n\n    this.updateUserName = e => {\n      let temp = sessionStorage.getItem('email');\n      let data = {\n        firstname: this.state.firstname,\n        lastname: this.state.lastname,\n        password: this.state.pswd,\n        email: temp\n      };\n      console.log('Inside will mount: data value is: ' + data.email);\n      axios.post('http://localhost:3001/updateusername', data).then(response => {\n        // update the state with the response data\n        window.location.reload();\n        console.log('Axios post:', response.data);\n      });\n    };\n\n    this.updatePassword = e => {\n      let temp = sessionStorage.getItem('email');\n\n      if (this.state.newpassword === this.state.confirmpassword) {\n        let data = {\n          newpassword: this.state.newpassword,\n          password: this.state.pswd,\n          email: temp\n        };\n        console.log('Inside will mount: data value is: ' + data.email);\n        axios.post('http://localhost:3001/updatepassword', data).then(response => {\n          // update the state with the response data\n          window.location.reload();\n          console.log('Axios post:', response.data);\n        });\n      }\n    };\n\n    this.updateContact = e => {\n      let temp = sessionStorage.getItem('email');\n      let tempphone = null;\n      let tempemail = null;\n      let data = null;\n\n      if (this.state.newEmail !== null && this.state.newEmail === this.state.confirmNewEmail) {\n        tempemail = this.state.newEmail;\n      } else {\n        tempemail = 'invalid';\n      }\n\n      if (this.state.newPhone !== null && this.state.newPhone === this.state.confirmNewPhone) {\n        tempphone = this.state.newPhone;\n      } else {\n        tempphone = 'invalid';\n      }\n\n      if (tempemail !== 'invalid' && tempphone !== 'invalid') {\n        data = {\n          newPhone: this.state.newPhone,\n          newEmail: this.state.newEmail,\n          password: this.state.pswd,\n          email: temp\n        };\n      } else if (tempemail === 'invalid' || '' && tempphone !== 'invalid') {\n        data = {\n          newPhone: this.state.newPhone,\n          password: this.state.pswd,\n          email: temp\n        };\n      } else if (tempphone === 'invalid' || '' && tempemail !== 'invalid') {\n        data = {\n          newEmail: this.state.newEmail,\n          password: this.state.pswd,\n          email: temp\n        };\n      }\n\n      if (data !== null) {\n        console.log('Inside will mount: data value is: ' + data.email);\n        axios.post('http://localhost:3001/updatecontact', data).then(response => {\n          console.log('Axios post:', response.data);\n\n          if (response.data === 'Upated email.') {\n            sessionStorage.setItem('email', data.newEmail);\n            window.location.reload();\n          }\n        });\n      }\n    };\n\n    this.inputChangeHandler = e => {\n      this.setState({\n        [e.target.name]: e.target.value\n      });\n    };\n\n    this.imageChangeHandler = e => {\n      // console.log('image change handle name: ' + e.target.name)\n      // console.log('image change handle value: ' + e.target.files[0])\n      this.setState({\n        file: e.target.files[0]\n      });\n    };\n\n    this.nameflageChange = e => {\n      if (this.state.nameflag) {\n        this.setState({\n          nameflag: false\n        });\n      } else {\n        this.setState({\n          nameflag: true\n        });\n      }\n    };\n\n    this.contactflagChange = e => {\n      if (this.state.contactflag) {\n        this.setState({\n          contactflag: false\n        });\n      } else {\n        this.setState({\n          contactflag: true\n        });\n      }\n    };\n\n    this.passwordflagChange = e => {\n      if (this.state.passwordflag) {\n        this.setState({\n          passwordflag: false\n        });\n      } else {\n        this.setState({\n          passwordflag: true\n        });\n      }\n    };\n\n    this.uploadImage = e => {\n      e.preventDefault(); // var headers = new Headers();\n\n      const formData = new FormData(); // console.log(this.state.file.name)\n\n      let email = sessionStorage.getItem('email'); // this.setState({file.name:email})\n      // var imagedata = document.querySelector('input[type=\"file\"]').files[0];\n\n      formData.append('myImage', this.state.file, email); // formData.append('myImage', this.state.file, email )\n      // formData.append('email', email)\n\n      const config = {\n        headers: {\n          'content-type': 'multipart/form-data'\n        }\n      };\n      axios.post('/buyerprofile', formData, config).then(response => {\n        let data = {\n          'email': email\n        };\n        axios.post('http://localhost:3001/userimage', data).then(response => {\n          // update the state with the response data\n          console.log('Axios get:', response.data);\n          this.setState({\n            img: 'data:image/png;base64, ' + response.data\n          });\n        });\n        console.log('The file is successfully uploaded');\n      }).catch(error => {}); // prevent page from refresh\n    };\n\n    this.state = {\n      email: '',\n      phonenumber: '',\n      password: '',\n      pswd: '',\n      newpassword: '',\n      confirmpassword: '',\n      firstname: '',\n      lastname: '',\n      file: '',\n      newEmail: '',\n      confirmNewEmail: '',\n      newPhone: '',\n      confirmNewPhone: '',\n      img: '',\n      authFlag: false,\n      authFailed: false,\n      nameflag: false,\n      contactflag: false,\n      passwordflag: false\n    }; // Bind the handlers to this class\n    // this.usernameChangeHandler = this.usernameChangeHandler.bind(this)\n    // this.passwordChangeHandler = this.passwordChangeHandler.bind(this)\n    // this.submitLogin = this.submitLogin.bind(this)\n  } // Call the Will Mount to set the auth Flag to false\n\n\n  componentWillMount() {\n    let path = process.env.PUBLIC_URL;\n    path = path + '/profilepics/Avatar.png';\n    this.setState({\n      authFlag: false,\n      authFailed: false,\n      nameflag: false,\n      contactflag: false,\n      img: path,\n      passwordflag: false\n    });\n    let temp = sessionStorage.getItem('email');\n    let data = {\n      email: temp\n    };\n    console.log('Inside will mount: data value is: ' + data.email);\n    this.props.getProfile({\n      params: data\n    }, data => {\n      console.log('Redu test: ' + this.props.user);\n      this.setState({\n        email: data.email,\n        phonenumber: data.phone,\n        password: data.password,\n        firstname: data.first_name,\n        lastname: data.last_name\n      });\n    }); // axios\n    //   .get('http://localhost:3001/userprofile', { params: data })\n    //   .then(response => {\n    //     // update the state with the response data\n    //     //   console.log(\"Axios get:\",response.data);\n    //     this.setState({\n    //       email: response.data.email,\n    //       phonenumber: response.data.phone,\n    //       password: response.data.password,\n    //       firstname: response.data.first_name,\n    //       lastname: response.data.last_name\n    //     })\n    //   })\n    // console.log('before userimage call'+data);\n    // this.props.getUserImage(data, (response)=>{\n    //   console.log('Redux test: ' + this.props.user)\n    //   this.setState({\n    // img: 'data:image/png;base64, ' + response.image\n    //   })\n    // });\n\n    axios.post('http://localhost:3001/userimage', data).then(response => {\n      // update the state with the response data\n      console.log('Axios get:', response.data);\n      this.setState({\n        img: 'data:image/png;base64, ' + response.data\n      });\n    });\n  }\n\n  render() {\n    // redirect based on successful login\n    let redirectVar = null;\n    let invalidtag = null;\n    let editname = null;\n    let editpassword = null;\n    let editcontact = null;\n\n    if (!cookie.load('cookie')) {\n      redirectVar = React.createElement(Redirect, {\n        to: \"/login\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 322\n        },\n        __self: this\n      });\n    }\n\n    if (this.state.authFailed) {\n      invalidtag = React.createElement(\"label\", {\n        style: {\n          color: 'red'\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 327\n        },\n        __self: this\n      }, \"*Invalid user name password!\");\n    }\n\n    let updatePic = null;\n\n    if (this.state.file !== '') {\n      updatePic = React.createElement(\"button\", {\n        style: {\n          marginLeft: '537px'\n        },\n        className: \"btn btn-link\",\n        type: \"submit\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 334\n        },\n        __self: this\n      }, \"Update\");\n    }\n\n    if (this.state.nameflag) {\n      editname = React.createElement(\"div\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 346\n        },\n        __self: this\n      }, React.createElement(\"div\", {\n        className: \"row\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 347\n        },\n        __self: this\n      }, React.createElement(\"div\", {\n        class: \"form-group\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 348\n        },\n        __self: this\n      }, React.createElement(\"div\", {\n        className: \"col-sm-4\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 349\n        },\n        __self: this\n      }, React.createElement(\"div\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 350\n        },\n        __self: this\n      }, \"First name\"), React.createElement(\"input\", {\n        onChange: this.inputChangeHandler,\n        type: \"text\",\n        class: \"form-control\",\n        name: \"firstname\",\n        value: this.state.firstname,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 351\n        },\n        __self: this\n      })), React.createElement(\"div\", {\n        className: \"col-sm-4\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 360\n        },\n        __self: this\n      }, React.createElement(\"div\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 361\n        },\n        __self: this\n      }, \"Last name\"), React.createElement(\"input\", {\n        onChange: this.inputChangeHandler,\n        type: \"text\",\n        class: \"form-control\",\n        name: \"lastname\",\n        value: this.state.lastname,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 362\n        },\n        __self: this\n      })))), React.createElement(\"br\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 372\n        },\n        __self: this\n      }), React.createElement(\"div\", {\n        className: \"row\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 373\n        },\n        __self: this\n      }, React.createElement(\"div\", {\n        class: \"form-group\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 374\n        },\n        __self: this\n      }, React.createElement(\"div\", {\n        className: \"col-sm-4\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 375\n        },\n        __self: this\n      }, React.createElement(\"div\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 376\n        },\n        __self: this\n      }, \"Current password\"), React.createElement(\"input\", {\n        onChange: this.inputChangeHandler,\n        type: \"text\",\n        class: \"form-control\",\n        name: \"pswd\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 377\n        },\n        __self: this\n      })))), React.createElement(\"br\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 386\n        },\n        __self: this\n      }), React.createElement(\"div\", {\n        className: \"row\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 387\n        },\n        __self: this\n      }, React.createElement(\"div\", {\n        class: \"form-group\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 388\n        },\n        __self: this\n      }, React.createElement(\"div\", {\n        className: \"col-sm-3\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 389\n        },\n        __self: this\n      }, React.createElement(\"button\", {\n        onClick: this.updateUserName,\n        style: {\n          backgroundColor: '#0070eb'\n        },\n        class: \"btn btn-info\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 390\n        },\n        __self: this\n      }, \"Update name\")), React.createElement(\"div\", {\n        className: \"col-sm-3\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 398\n        },\n        __self: this\n      }, React.createElement(\"button\", {\n        onClick: this.nameflageChange,\n        style: {\n          backgroundColor: 'white',\n          color: '#0070eb'\n        },\n        class: \"btn btn-info\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 399\n        },\n        __self: this\n      }, \"Cancel\")))));\n    } else {\n      editname = React.createElement(\"div\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 413\n        },\n        __self: this\n      }, React.createElement(\"a\", {\n        style: {\n          float: 'right'\n        },\n        href: \"#\",\n        onClick: this.nameflageChange,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 414\n        },\n        __self: this\n      }, \"Edit\"), React.createElement(\"div\", {\n        style: {\n          fontSize: '14px',\n          marginBottom: '10px'\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 417\n        },\n        __self: this\n      }, \"Name\"), React.createElement(\"div\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 419\n        },\n        __self: this\n      }, this.props.user.first_name, \" \", this.props.user.last_name));\n    }\n\n    if (this.state.contactflag) {\n      editcontact = React.createElement(\"div\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 428\n        },\n        __self: this\n      }, React.createElement(\"div\", {\n        className: \"row\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 429\n        },\n        __self: this\n      }, React.createElement(\"div\", {\n        class: \"form-group\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 430\n        },\n        __self: this\n      }, React.createElement(\"div\", {\n        className: \"col-sm-4\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 431\n        },\n        __self: this\n      }, React.createElement(\"div\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 432\n        },\n        __self: this\n      }, \"New email\"), React.createElement(\"input\", {\n        onChange: this.inputChangeHandler,\n        type: \"text\",\n        class: \"form-control\",\n        name: \"newEmail\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 433\n        },\n        __self: this\n      })), React.createElement(\"div\", {\n        className: \"col-sm-4\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 440\n        },\n        __self: this\n      }, React.createElement(\"div\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 441\n        },\n        __self: this\n      }, \"Confirm email\"), React.createElement(\"input\", {\n        onChange: this.inputChangeHandler,\n        type: \"text\",\n        class: \"form-control\",\n        name: \"confirmNewEmail\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 442\n        },\n        __self: this\n      })))), React.createElement(\"br\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 451\n        },\n        __self: this\n      }), React.createElement(\"div\", {\n        className: \"row\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 452\n        },\n        __self: this\n      }, React.createElement(\"div\", {\n        class: \"form-group\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 453\n        },\n        __self: this\n      }, React.createElement(\"div\", {\n        className: \"col-sm-4\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 454\n        },\n        __self: this\n      }, React.createElement(\"div\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 455\n        },\n        __self: this\n      }, \"New phone number\"), React.createElement(\"input\", {\n        onChange: this.inputChangeHandler,\n        type: \"text\",\n        class: \"form-control\",\n        name: \"newPhone\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 456\n        },\n        __self: this\n      })), React.createElement(\"div\", {\n        className: \"col-sm-4\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 464\n        },\n        __self: this\n      }, React.createElement(\"div\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 465\n        },\n        __self: this\n      }, \"Confirm phone number\"), React.createElement(\"input\", {\n        onChange: this.inputChangeHandler,\n        type: \"text\",\n        class: \"form-control\",\n        name: \"confirmNewPhone\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 466\n        },\n        __self: this\n      })))), React.createElement(\"br\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 475\n        },\n        __self: this\n      }), React.createElement(\"div\", {\n        className: \"row\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 476\n        },\n        __self: this\n      }, React.createElement(\"div\", {\n        class: \"form-group\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 477\n        },\n        __self: this\n      }, React.createElement(\"div\", {\n        className: \"col-sm-4\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 478\n        },\n        __self: this\n      }, React.createElement(\"div\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 479\n        },\n        __self: this\n      }, \"Current password\"), React.createElement(\"input\", {\n        onChange: this.inputChangeHandler,\n        type: \"text\",\n        class: \"form-control\",\n        name: \"pswd\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 480\n        },\n        __self: this\n      })))), React.createElement(\"br\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 489\n        },\n        __self: this\n      }), React.createElement(\"div\", {\n        className: \"row\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 490\n        },\n        __self: this\n      }, React.createElement(\"div\", {\n        class: \"form-group\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 491\n        },\n        __self: this\n      }, React.createElement(\"div\", {\n        className: \"col-sm-3\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 492\n        },\n        __self: this\n      }, React.createElement(\"button\", {\n        onClick: this.updateContact,\n        style: {\n          backgroundColor: '#0070eb'\n        },\n        class: \"btn btn-info\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 493\n        },\n        __self: this\n      }, \"Update contact\")), React.createElement(\"div\", {\n        className: \"col-sm-3\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 501\n        },\n        __self: this\n      }, React.createElement(\"button\", {\n        onClick: this.contactflagChange,\n        style: {\n          backgroundColor: 'white',\n          color: '#0070eb'\n        },\n        class: \"btn btn-info\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 502\n        },\n        __self: this\n      }, \"Cancel\")))));\n    } else {\n      editcontact = React.createElement(\"div\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 516\n        },\n        __self: this\n      }, React.createElement(\"a\", {\n        style: {\n          float: 'right'\n        },\n        href: \"#\",\n        onClick: this.contactflagChange,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 517\n        },\n        __self: this\n      }, \"Edit\"), React.createElement(\"div\", {\n        style: {\n          fontSize: '14px',\n          marginBottom: '10px'\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 524\n        },\n        __self: this\n      }, \"Email\"), React.createElement(\"div\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 526\n        },\n        __self: this\n      }, this.props.user.email), React.createElement(\"br\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 527\n        },\n        __self: this\n      }), React.createElement(\"div\", {\n        style: {\n          fontSize: '14px',\n          marginBottom: '10px'\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 528\n        },\n        __self: this\n      }, \"Phone\"), React.createElement(\"div\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 530\n        },\n        __self: this\n      }, this.props.user.phone));\n    }\n\n    if (this.state.passwordflag) {\n      editpassword = React.createElement(\"div\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 537\n        },\n        __self: this\n      }, React.createElement(\"div\", {\n        className: \"row\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 538\n        },\n        __self: this\n      }, React.createElement(\"div\", {\n        class: \"form-group\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 539\n        },\n        __self: this\n      }, React.createElement(\"div\", {\n        className: \"col-sm-4\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 540\n        },\n        __self: this\n      }, React.createElement(\"div\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 541\n        },\n        __self: this\n      }, \"Current password\"), React.createElement(\"input\", {\n        onChange: this.inputChangeHandler,\n        type: \"text\",\n        class: \"form-control\",\n        name: \"pswd\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 542\n        },\n        __self: this\n      })))), React.createElement(\"div\", {\n        className: \"row\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 551\n        },\n        __self: this\n      }, React.createElement(\"div\", {\n        class: \"form-group\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 552\n        },\n        __self: this\n      }, React.createElement(\"div\", {\n        className: \"col-sm-4\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 553\n        },\n        __self: this\n      }, React.createElement(\"div\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 554\n        },\n        __self: this\n      }, \"New password\"), React.createElement(\"input\", {\n        onChange: this.inputChangeHandler,\n        type: \"text\",\n        class: \"form-control\",\n        name: \"newpassword\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 555\n        },\n        __self: this\n      })), React.createElement(\"div\", {\n        className: \"col-sm-4\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 563\n        },\n        __self: this\n      }, React.createElement(\"div\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 564\n        },\n        __self: this\n      }, \"Confirm password\"), React.createElement(\"input\", {\n        onChange: this.inputChangeHandler,\n        type: \"text\",\n        class: \"form-control\",\n        name: \"confirmpassword\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 565\n        },\n        __self: this\n      })))), React.createElement(\"br\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 574\n        },\n        __self: this\n      }), React.createElement(\"br\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 576\n        },\n        __self: this\n      }), React.createElement(\"div\", {\n        className: \"row\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 577\n        },\n        __self: this\n      }, React.createElement(\"div\", {\n        class: \"form-group\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 578\n        },\n        __self: this\n      }, React.createElement(\"div\", {\n        className: \"col-sm-3\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 579\n        },\n        __self: this\n      }, React.createElement(\"button\", {\n        onClick: this.updatePassword,\n        class: \"btn btn-primary\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 580\n        },\n        __self: this\n      }, \"Update password\")), React.createElement(\"div\", {\n        className: \"col-sm-3\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 584\n        },\n        __self: this\n      }, React.createElement(\"button\", {\n        onClick: this.passwordflagChange,\n        style: {\n          backgroundColor: 'white',\n          color: '#0070eb'\n        },\n        class: \"btn btn-info\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 585\n        },\n        __self: this\n      }, \"Cancel\")))));\n    } else {\n      editpassword = React.createElement(\"div\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 599\n        },\n        __self: this\n      }, React.createElement(\"a\", {\n        style: {\n          float: 'right'\n        },\n        href: \"#\",\n        onClick: this.passwordflagChange,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 600\n        },\n        __self: this\n      }, \"Edit\"), React.createElement(\"div\", {\n        style: {\n          fontSize: '14px',\n          marginBottom: '10px'\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 607\n        },\n        __self: this\n      }, \"Password\"), React.createElement(\"div\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 609\n        },\n        __self: this\n      }, \"********\"));\n    }\n\n    return React.createElement(\"div\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 615\n      },\n      __self: this\n    }, redirectVar, React.createElement(\"div\", {\n      className: \"row\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 617\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      className: \"col-sm-2\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 618\n      },\n      __self: this\n    }, React.createElement(BuyerOwnerNav, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 619\n      },\n      __self: this\n    })), React.createElement(\"div\", {\n      className: \"col-sm-10\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 622\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      class: \"container\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 623\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      class: \"login-form\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 624\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      class: \"panel\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 627\n      },\n      __self: this\n    }, React.createElement(\"h2\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 628\n      },\n      __self: this\n    }, \"Your account\")), React.createElement(\"form\", {\n      onSubmit: this.uploadImage,\n      enctype: \"multipart/form-data\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 631\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      class: \"preview text-center\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 632\n      },\n      __self: this\n    }, React.createElement(\"img\", {\n      class: \"preview-img\" // src='http://simpleicon.com/wp-content/uploads/account.png'\n      ,\n      src: this.state.img,\n      alt: \"Preview Image\",\n      width: \"200\",\n      height: \"200\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 633\n      },\n      __self: this\n    }), React.createElement(\"div\", {\n      className: \"browse-button\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 641\n      },\n      __self: this\n    }, React.createElement(\"i\", {\n      className: \"fa fa-pencil\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 642\n      },\n      __self: this\n    }), React.createElement(\"input\", {\n      class: \"browse-input\",\n      type: \"file\",\n      onChange: this.imageChangeHandler,\n      name: \"myImage\",\n      id: \"myImage\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 643\n      },\n      __self: this\n    }), React.createElement(\"br\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 650\n      },\n      __self: this\n    })), React.createElement(\"span\", {\n      class: \"Error\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 652\n      },\n      __self: this\n    })), updatePic), React.createElement(\"br\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 657\n      },\n      __self: this\n    }), React.createElement(\"ul\", {\n      class: \"list-group\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 658\n      },\n      __self: this\n    }, React.createElement(\"br\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 659\n      },\n      __self: this\n    }), React.createElement(\"li\", {\n      class: \"list-group-item\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 660\n      },\n      __self: this\n    }, editname), React.createElement(\"li\", {\n      class: \"list-group-item\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 661\n      },\n      __self: this\n    }, editcontact), React.createElement(\"li\", {\n      class: \"list-group-item\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 662\n      },\n      __self: this\n    }, editpassword), React.createElement(\"li\", {\n      class: \"list-group-item\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 663\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      style: {\n        marginTop: '10px',\n        marginBottom: '10px',\n        color: '#0070eb',\n        fontSize: '14px'\n      },\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 664\n      },\n      __self: this\n    }, \"Continue with Facebook\"))), React.createElement(\"br\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 678\n      },\n      __self: this\n    }), React.createElement(\"br\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 680\n      },\n      __self: this\n    }))))), \"//\", ' ');\n  }\n\n} // export Login Component\n// export default BuyerProfile\n\n\nfunction mapStateToProps(state) {\n  return {\n    user: state.user\n  };\n}\n\nexport default connect(mapStateToProps, {\n  getProfile: getProfile,\n  getUserImage: getUserImage\n})(BuyerProfile);","map":{"version":3,"sources":["/Users/kirankumarbijjala/Documents/Redux Grubhub Final/Frontend/src/components/Existingusersignin.js"],"names":["React","Component","axios","cookie","Redirect","Link","getProfile","loginuser","getUserImage","connect","BuyerOwnerNav","Field","reduxForm","BuyerProfile","constructor","props","onSubmitUsername","formValues","console","log","data","firstname","lastname","email","password","defaults","withCredentials","post","then","response","status","sessionStorage","setItem","setState","authFlag","catch","err","authFailed","updateUserName","e","temp","getItem","state","pswd","window","location","reload","updatePassword","newpassword","confirmpassword","updateContact","tempphone","tempemail","newEmail","confirmNewEmail","newPhone","confirmNewPhone","inputChangeHandler","target","name","value","imageChangeHandler","file","files","nameflageChange","nameflag","contactflagChange","contactflag","passwordflagChange","passwordflag","uploadImage","preventDefault","formData","FormData","append","config","headers","img","error","phonenumber","componentWillMount","path","process","env","PUBLIC_URL","params","user","phone","first_name","last_name","render","redirectVar","invalidtag","editname","editpassword","editcontact","load","color","updatePic","marginLeft","backgroundColor","float","fontSize","marginBottom","marginTop","mapStateToProps"],"mappings":";AAAA,OAAOA,KAAP,IAAgBC,SAAhB,QAAiC,OAAjC;AACA,OAAO,eAAP;AACA,OAAO,oBAAP;AACA,OAAOC,KAAP,MAAkB,OAAlB;AACA,OAAOC,MAAP,MAAmB,eAAnB;AACA,SAASC,QAAT,QAAyB,cAAzB;AACA,SAASC,IAAT,QAAqB,kBAArB;AACA,SAAQC,UAAR,QAAyB,eAAzB;AACA,SAAQC,SAAR,QAAwB,eAAxB;AACA,SAAQC,YAAR,QAA2B,eAA3B;AACA,SAASC,OAAT,QAAwB,aAAxB;AACA,OAAOC,aAAP,MAA0B,0BAA1B;AAEA,SAAQC,KAAR,EAAeC,SAAf,QAA+B,YAA/B,C,CAGA;;AACA,MAAMC,YAAN,SAA2BZ,SAA3B,CAAqC;AACnC;AACAa,EAAAA,WAAW,CAAEC,KAAF,EAAS;AAClB;AACA,UAAMA,KAAN,EAFkB,CAGlB;;AAHkB,SA0FpBC,gBA1FoB,GA0FAC,UAAD,IAAe;AAChCC,MAAAA,OAAO,CAACC,GAAR,CAAY,aAAWF,UAAvB;AACA,UAAIG,IAAI,GAAE;AACRC,QAAAA,SAAS,EAAEJ,UAAU,CAACI,SADd;AAERC,QAAAA,QAAQ,EAAEL,UAAU,CAACK,QAFb;AAGRC,QAAAA,KAAK,EAAEN,UAAU,CAACM,KAHV;AAIRC,QAAAA,QAAQ,EAAEP,UAAU,CAACO;AAJb,OAAV;AAMAtB,MAAAA,KAAK,CAACuB,QAAN,CAAeC,eAAf,GAAiC,IAAjC;AACAR,MAAAA,OAAO,CAACC,GAAR,CAAYC,IAAZ;AACAlB,MAAAA,KAAK,CACFyB,IADH,CACQ,sCADR,EACgDP,IADhD,EAEGQ,IAFH,CAEQC,QAAQ,IAAI;AAChBX,QAAAA,OAAO,CAACC,GAAR,CAAY,gBAAZ,EAA8BU,QAAQ,CAACC,MAAvC;;AACA,YAAID,QAAQ,CAACC,MAAT,KAAoB,GAAxB,EAA6B;AAC3BC,UAAAA,cAAc,CAACC,OAAf,CAAuB,OAAvB,EAAgCZ,IAAI,CAACG,KAArC;AACA,eAAKU,QAAL,CAAc;AACZC,YAAAA,QAAQ,EAAE;AADE,WAAd;AAGD;AACF,OAVH,EAWGC,KAXH,CAWSC,GAAG,IAAI;AACZ,aAAKH,QAAL,CAAc;AAAEI,UAAAA,UAAU,EAAE;AAAd,SAAd;AACD,OAbH;AAcA,WAAKtB,KAAL,CAAWR,SAAX,CAAqBa,IAArB;AACD,KAnHmB;;AAAA,SAqHpBkB,cArHoB,GAqHHC,CAAC,IAAI;AACpB,UAAIC,IAAI,GAAGT,cAAc,CAACU,OAAf,CAAuB,OAAvB,CAAX;AAEA,UAAIrB,IAAI,GAAG;AACTC,QAAAA,SAAS,EAAE,KAAKqB,KAAL,CAAWrB,SADb;AAETC,QAAAA,QAAQ,EAAE,KAAKoB,KAAL,CAAWpB,QAFZ;AAGTE,QAAAA,QAAQ,EAAE,KAAKkB,KAAL,CAAWC,IAHZ;AAITpB,QAAAA,KAAK,EAAEiB;AAJE,OAAX;AAMAtB,MAAAA,OAAO,CAACC,GAAR,CAAY,uCAAuCC,IAAI,CAACG,KAAxD;AACArB,MAAAA,KAAK,CAACyB,IAAN,CAAW,sCAAX,EAAmDP,IAAnD,EAAyDQ,IAAzD,CAA8DC,QAAQ,IAAI;AACxE;AACAe,QAAAA,MAAM,CAACC,QAAP,CAAgBC,MAAhB;AACA5B,QAAAA,OAAO,CAACC,GAAR,CAAY,aAAZ,EAA2BU,QAAQ,CAACT,IAApC;AACD,OAJD;AAKD,KApImB;;AAAA,SAsIpB2B,cAtIoB,GAsIHR,CAAC,IAAI;AACpB,UAAIC,IAAI,GAAGT,cAAc,CAACU,OAAf,CAAuB,OAAvB,CAAX;;AACA,UAAI,KAAKC,KAAL,CAAWM,WAAX,KAA2B,KAAKN,KAAL,CAAWO,eAA1C,EAA2D;AACzD,YAAI7B,IAAI,GAAG;AACT4B,UAAAA,WAAW,EAAE,KAAKN,KAAL,CAAWM,WADf;AAETxB,UAAAA,QAAQ,EAAE,KAAKkB,KAAL,CAAWC,IAFZ;AAGTpB,UAAAA,KAAK,EAAEiB;AAHE,SAAX;AAKAtB,QAAAA,OAAO,CAACC,GAAR,CAAY,uCAAuCC,IAAI,CAACG,KAAxD;AACArB,QAAAA,KAAK,CACFyB,IADH,CACQ,sCADR,EACgDP,IADhD,EAEGQ,IAFH,CAEQC,QAAQ,IAAI;AAChB;AACAe,UAAAA,MAAM,CAACC,QAAP,CAAgBC,MAAhB;AACA5B,UAAAA,OAAO,CAACC,GAAR,CAAY,aAAZ,EAA2BU,QAAQ,CAACT,IAApC;AACD,SANH;AAOD;AACF,KAvJmB;;AAAA,SAyJpB8B,aAzJoB,GAyJJX,CAAC,IAAI;AACnB,UAAIC,IAAI,GAAGT,cAAc,CAACU,OAAf,CAAuB,OAAvB,CAAX;AAEA,UAAIU,SAAS,GAAG,IAAhB;AACA,UAAIC,SAAS,GAAG,IAAhB;AACA,UAAIhC,IAAI,GAAG,IAAX;;AACA,UACE,KAAKsB,KAAL,CAAWW,QAAX,KAAwB,IAAxB,IACA,KAAKX,KAAL,CAAWW,QAAX,KAAwB,KAAKX,KAAL,CAAWY,eAFrC,EAGE;AACAF,QAAAA,SAAS,GAAG,KAAKV,KAAL,CAAWW,QAAvB;AACD,OALD,MAKO;AACLD,QAAAA,SAAS,GAAG,SAAZ;AACD;;AAED,UACE,KAAKV,KAAL,CAAWa,QAAX,KAAwB,IAAxB,IACA,KAAKb,KAAL,CAAWa,QAAX,KAAwB,KAAKb,KAAL,CAAWc,eAFrC,EAGE;AACAL,QAAAA,SAAS,GAAG,KAAKT,KAAL,CAAWa,QAAvB;AACD,OALD,MAKO;AACLJ,QAAAA,SAAS,GAAG,SAAZ;AACD;;AAED,UAAIC,SAAS,KAAK,SAAd,IAA2BD,SAAS,KAAK,SAA7C,EAAwD;AACtD/B,QAAAA,IAAI,GAAG;AACLmC,UAAAA,QAAQ,EAAE,KAAKb,KAAL,CAAWa,QADhB;AAELF,UAAAA,QAAQ,EAAE,KAAKX,KAAL,CAAWW,QAFhB;AAGL7B,UAAAA,QAAQ,EAAE,KAAKkB,KAAL,CAAWC,IAHhB;AAILpB,UAAAA,KAAK,EAAEiB;AAJF,SAAP;AAMD,OAPD,MAOO,IAAIY,SAAS,KAAK,SAAd,IAA4B,MAAMD,SAAS,KAAK,SAApD,EAAgE;AACrE/B,QAAAA,IAAI,GAAG;AACLmC,UAAAA,QAAQ,EAAE,KAAKb,KAAL,CAAWa,QADhB;AAEL/B,UAAAA,QAAQ,EAAE,KAAKkB,KAAL,CAAWC,IAFhB;AAGLpB,UAAAA,KAAK,EAAEiB;AAHF,SAAP;AAKD,OANM,MAMA,IAAIW,SAAS,KAAK,SAAd,IAA4B,MAAMC,SAAS,KAAK,SAApD,EAAgE;AACrEhC,QAAAA,IAAI,GAAG;AACLiC,UAAAA,QAAQ,EAAE,KAAKX,KAAL,CAAWW,QADhB;AAEL7B,UAAAA,QAAQ,EAAE,KAAKkB,KAAL,CAAWC,IAFhB;AAGLpB,UAAAA,KAAK,EAAEiB;AAHF,SAAP;AAKD;;AAED,UAAIpB,IAAI,KAAK,IAAb,EAAmB;AACjBF,QAAAA,OAAO,CAACC,GAAR,CAAY,uCAAuCC,IAAI,CAACG,KAAxD;AACArB,QAAAA,KAAK,CAACyB,IAAN,CAAW,qCAAX,EAAkDP,IAAlD,EAAwDQ,IAAxD,CAA6DC,QAAQ,IAAI;AACvEX,UAAAA,OAAO,CAACC,GAAR,CAAY,aAAZ,EAA2BU,QAAQ,CAACT,IAApC;;AACA,cAAIS,QAAQ,CAACT,IAAT,KAAkB,eAAtB,EAAuC;AACrCW,YAAAA,cAAc,CAACC,OAAf,CAAuB,OAAvB,EAAgCZ,IAAI,CAACiC,QAArC;AACAT,YAAAA,MAAM,CAACC,QAAP,CAAgBC,MAAhB;AACD;AACF,SAND;AAOD;AACF,KAhNmB;;AAAA,SAkNpBW,kBAlNoB,GAkNClB,CAAC,IAAI;AACxB,WAAKN,QAAL,CAAc;AACZ,SAACM,CAAC,CAACmB,MAAF,CAASC,IAAV,GAAiBpB,CAAC,CAACmB,MAAF,CAASE;AADd,OAAd;AAGD,KAtNmB;;AAAA,SAwNpBC,kBAxNoB,GAwNCtB,CAAC,IAAI;AACxB;AACA;AACA,WAAKN,QAAL,CAAc;AACZ6B,QAAAA,IAAI,EAAEvB,CAAC,CAACmB,MAAF,CAASK,KAAT,CAAe,CAAf;AADM,OAAd;AAGD,KA9NmB;;AAAA,SAgOpBC,eAhOoB,GAgOFzB,CAAC,IAAI;AACrB,UAAI,KAAKG,KAAL,CAAWuB,QAAf,EAAyB;AACvB,aAAKhC,QAAL,CAAc;AACZgC,UAAAA,QAAQ,EAAE;AADE,SAAd;AAGD,OAJD,MAIO;AACL,aAAKhC,QAAL,CAAc;AACZgC,UAAAA,QAAQ,EAAE;AADE,SAAd;AAGD;AACF,KA1OmB;;AAAA,SA2OpBC,iBA3OoB,GA2OA3B,CAAC,IAAI;AACvB,UAAI,KAAKG,KAAL,CAAWyB,WAAf,EAA4B;AAC1B,aAAKlC,QAAL,CAAc;AACZkC,UAAAA,WAAW,EAAE;AADD,SAAd;AAGD,OAJD,MAIO;AACL,aAAKlC,QAAL,CAAc;AACZkC,UAAAA,WAAW,EAAE;AADD,SAAd;AAGD;AACF,KArPmB;;AAAA,SAuPpBC,kBAvPoB,GAuPC7B,CAAC,IAAI;AACxB,UAAI,KAAKG,KAAL,CAAW2B,YAAf,EAA6B;AAC3B,aAAKpC,QAAL,CAAc;AACZoC,UAAAA,YAAY,EAAE;AADF,SAAd;AAGD,OAJD,MAIO;AACL,aAAKpC,QAAL,CAAc;AACZoC,UAAAA,YAAY,EAAE;AADF,SAAd;AAGD;AACF,KAjQmB;;AAAA,SAoQpBC,WApQoB,GAoQN/B,CAAC,IAAI;AACjBA,MAAAA,CAAC,CAACgC,cAAF,GADiB,CAEjB;;AACA,YAAMC,QAAQ,GAAG,IAAIC,QAAJ,EAAjB,CAHiB,CAIjB;;AAEA,UAAIlD,KAAK,GAAGQ,cAAc,CAACU,OAAf,CAAuB,OAAvB,CAAZ,CANiB,CAOjB;AACA;;AACA+B,MAAAA,QAAQ,CAACE,MAAT,CAAgB,SAAhB,EAA2B,KAAKhC,KAAL,CAAWoB,IAAtC,EAA4CvC,KAA5C,EATiB,CAUjB;AACA;;AACA,YAAMoD,MAAM,GAAG;AACbC,QAAAA,OAAO,EAAE;AACP,0BAAgB;AADT;AADI,OAAf;AAKA1E,MAAAA,KAAK,CACFyB,IADH,CACQ,eADR,EACyB6C,QADzB,EACmCG,MADnC,EAEG/C,IAFH,CAEQC,QAAQ,IAAI;AAChB,YAAIT,IAAI,GAAC;AAAC,mBAAQG;AAAT,SAAT;AACArB,QAAAA,KAAK,CAACyB,IAAN,CAAW,iCAAX,EAA8CP,IAA9C,EAAoDQ,IAApD,CAAyDC,QAAQ,IAAI;AACnE;AACAX,UAAAA,OAAO,CAACC,GAAR,CAAY,YAAZ,EAA0BU,QAAQ,CAACT,IAAnC;AACA,eAAKa,QAAL,CAAc;AACZ4C,YAAAA,GAAG,EAAE,4BAA4BhD,QAAQ,CAACT;AAD9B,WAAd;AAGD,SAND;AAOAF,QAAAA,OAAO,CAACC,GAAR,CAAY,mCAAZ;AACD,OAZH,EAaGgB,KAbH,CAaS2C,KAAK,IAAI,CAAE,CAbpB,EAjBiB,CA+BjB;AACD,KApSmB;;AAIlB,SAAKpC,KAAL,GAAa;AACXnB,MAAAA,KAAK,EAAE,EADI;AAEXwD,MAAAA,WAAW,EAAE,EAFF;AAGXvD,MAAAA,QAAQ,EAAE,EAHC;AAIXmB,MAAAA,IAAI,EAAE,EAJK;AAKXK,MAAAA,WAAW,EAAE,EALF;AAMXC,MAAAA,eAAe,EAAE,EANN;AAOX5B,MAAAA,SAAS,EAAE,EAPA;AAQXC,MAAAA,QAAQ,EAAE,EARC;AASXwC,MAAAA,IAAI,EAAE,EATK;AAUXT,MAAAA,QAAQ,EAAE,EAVC;AAWXC,MAAAA,eAAe,EAAE,EAXN;AAYXC,MAAAA,QAAQ,EAAE,EAZC;AAaXC,MAAAA,eAAe,EAAE,EAbN;AAcXqB,MAAAA,GAAG,EAAE,EAdM;AAeX3C,MAAAA,QAAQ,EAAE,KAfC;AAgBXG,MAAAA,UAAU,EAAE,KAhBD;AAiBX4B,MAAAA,QAAQ,EAAE,KAjBC;AAkBXE,MAAAA,WAAW,EAAE,KAlBF;AAmBXE,MAAAA,YAAY,EAAE;AAnBH,KAAb,CAJkB,CAyBlB;AACA;AACA;AACA;AACD,GA/BkC,CAgCnC;;;AACAW,EAAAA,kBAAkB,GAAI;AACpB,QAAIC,IAAI,GAAGC,OAAO,CAACC,GAAR,CAAYC,UAAvB;AACAH,IAAAA,IAAI,GAAGA,IAAI,GAAG,yBAAd;AAEA,SAAKhD,QAAL,CAAc;AACZC,MAAAA,QAAQ,EAAE,KADE;AAEZG,MAAAA,UAAU,EAAE,KAFA;AAGZ4B,MAAAA,QAAQ,EAAE,KAHE;AAIZE,MAAAA,WAAW,EAAE,KAJD;AAKZU,MAAAA,GAAG,EAAEI,IALO;AAMZZ,MAAAA,YAAY,EAAE;AANF,KAAd;AASA,QAAI7B,IAAI,GAAGT,cAAc,CAACU,OAAf,CAAuB,OAAvB,CAAX;AAEA,QAAIrB,IAAI,GAAG;AAAEG,MAAAA,KAAK,EAAEiB;AAAT,KAAX;AACAtB,IAAAA,OAAO,CAACC,GAAR,CAAY,uCAAuCC,IAAI,CAACG,KAAxD;AAEA,SAAKR,KAAL,CAAWT,UAAX,CAAsB;AAAE+E,MAAAA,MAAM,EAAEjE;AAAV,KAAtB,EAAyCA,IAAD,IAAQ;AAC9CF,MAAAA,OAAO,CAACC,GAAR,CAAY,gBAAgB,KAAKJ,KAAL,CAAWuE,IAAvC;AACA,WAAKrD,QAAL,CAAc;AACZV,QAAAA,KAAK,EAAEH,IAAI,CAACG,KADA;AAEZwD,QAAAA,WAAW,EAAE3D,IAAI,CAACmE,KAFN;AAGZ/D,QAAAA,QAAQ,EAAEJ,IAAI,CAACI,QAHH;AAIZH,QAAAA,SAAS,EAAED,IAAI,CAACoE,UAJJ;AAKZlE,QAAAA,QAAQ,EAAEF,IAAI,CAACqE;AALH,OAAd;AAOD,KATD,EAlBoB,CA8BpB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACE;AACA;AACA;AACA;AACI;AACJ;AACA;;AACFvF,IAAAA,KAAK,CAACyB,IAAN,CAAW,iCAAX,EAA8CP,IAA9C,EAAoDQ,IAApD,CAAyDC,QAAQ,IAAI;AACnE;AACAX,MAAAA,OAAO,CAACC,GAAR,CAAY,YAAZ,EAA0BU,QAAQ,CAACT,IAAnC;AACA,WAAKa,QAAL,CAAc;AACZ4C,QAAAA,GAAG,EAAE,4BAA4BhD,QAAQ,CAACT;AAD9B,OAAd;AAGD,KAND;AAOD;;AA8MDsE,EAAAA,MAAM,GAAI;AACR;AACA,QAAIC,WAAW,GAAG,IAAlB;AACA,QAAIC,UAAU,GAAG,IAAjB;AACA,QAAIC,QAAQ,GAAG,IAAf;AACA,QAAIC,YAAY,GAAG,IAAnB;AACA,QAAIC,WAAW,GAAG,IAAlB;;AACA,QAAI,CAAC5F,MAAM,CAAC6F,IAAP,CAAY,QAAZ,CAAL,EAA4B;AAC1BL,MAAAA,WAAW,GAAG,oBAAC,QAAD;AAAU,QAAA,EAAE,EAAC,QAAb;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,QAAd;AACD;;AAED,QAAI,KAAKjD,KAAL,CAAWL,UAAf,EAA2B;AACzBuD,MAAAA,UAAU,GACR;AAAO,QAAA,KAAK,EAAE;AAAEK,UAAAA,KAAK,EAAE;AAAT,SAAd;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,wCADF;AAGD;;AACD,QAAIC,SAAS,GAAG,IAAhB;;AAEA,QAAI,KAAKxD,KAAL,CAAWoB,IAAX,KAAoB,EAAxB,EAA4B;AAC1BoC,MAAAA,SAAS,GACP;AACE,QAAA,KAAK,EAAE;AAAEC,UAAAA,UAAU,EAAE;AAAd,SADT;AAEE,QAAA,SAAS,EAAC,cAFZ;AAGE,QAAA,IAAI,EAAC,QAHP;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBADF;AASD;;AAED,QAAI,KAAKzD,KAAL,CAAWuB,QAAf,EAAyB;AACvB4B,MAAAA,QAAQ,GACN;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SACE;AAAK,QAAA,SAAS,EAAC,KAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SACE;AAAK,QAAA,KAAK,EAAC,YAAX;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SACE;AAAK,QAAA,SAAS,EAAC,UAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SACE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,sBADF,EAEE;AACE,QAAA,QAAQ,EAAE,KAAKpC,kBADjB;AAEE,QAAA,IAAI,EAAC,MAFP;AAGE,QAAA,KAAK,EAAC,cAHR;AAIE,QAAA,IAAI,EAAC,WAJP;AAKE,QAAA,KAAK,EAAE,KAAKf,KAAL,CAAWrB,SALpB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,QAFF,CADF,EAYE;AAAK,QAAA,SAAS,EAAC,UAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SACE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,qBADF,EAEE;AACE,QAAA,QAAQ,EAAE,KAAKoC,kBADjB;AAEE,QAAA,IAAI,EAAC,MAFP;AAGE,QAAA,KAAK,EAAC,cAHR;AAIE,QAAA,IAAI,EAAC,UAJP;AAKE,QAAA,KAAK,EAAE,KAAKf,KAAL,CAAWpB,QALpB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,QAFF,CAZF,CADF,CADF,EA0BE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,QA1BF,EA2BE;AAAK,QAAA,SAAS,EAAC,KAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SACE;AAAK,QAAA,KAAK,EAAC,YAAX;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SACE;AAAK,QAAA,SAAS,EAAC,UAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SACE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,4BADF,EAEE;AACE,QAAA,QAAQ,EAAE,KAAKmC,kBADjB;AAEE,QAAA,IAAI,EAAC,MAFP;AAGE,QAAA,KAAK,EAAC,cAHR;AAIE,QAAA,IAAI,EAAC,MAJP;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,QAFF,CADF,CADF,CA3BF,EAwCE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,QAxCF,EAyCE;AAAK,QAAA,SAAS,EAAC,KAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SACE;AAAK,QAAA,KAAK,EAAC,YAAX;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SACE;AAAK,QAAA,SAAS,EAAC,UAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SACE;AACE,QAAA,OAAO,EAAE,KAAKnB,cADhB;AAEE,QAAA,KAAK,EAAE;AAAE8D,UAAAA,eAAe,EAAE;AAAnB,SAFT;AAGE,QAAA,KAAK,EAAC,cAHR;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,uBADF,CADF,EAUE;AAAK,QAAA,SAAS,EAAC,UAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SACE;AACE,QAAA,OAAO,EAAE,KAAKpC,eADhB;AAEE,QAAA,KAAK,EAAE;AAAEoC,UAAAA,eAAe,EAAE,OAAnB;AAA4BH,UAAAA,KAAK,EAAE;AAAnC,SAFT;AAGE,QAAA,KAAK,EAAC,cAHR;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBADF,CAVF,CADF,CAzCF,CADF;AAkED,KAnED,MAmEO;AACLJ,MAAAA,QAAQ,GACN;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SACE;AAAG,QAAA,KAAK,EAAE;AAAEQ,UAAAA,KAAK,EAAE;AAAT,SAAV;AAA8B,QAAA,IAAI,EAAC,GAAnC;AAAuC,QAAA,OAAO,EAAE,KAAKrC,eAArD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,gBADF,EAIE;AAAK,QAAA,KAAK,EAAE;AAAEsC,UAAAA,QAAQ,EAAE,MAAZ;AAAoBC,UAAAA,YAAY,EAAE;AAAlC,SAAZ;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,gBAJF,EAME;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SACG,KAAKxF,KAAL,CAAWuE,IAAX,CAAgBE,UADnB,OACgC,KAAKzE,KAAL,CAAWuE,IAAX,CAAgBG,SADhD,CANF,CADF;AAYD;;AAED,QAAI,KAAK/C,KAAL,CAAWyB,WAAf,EAA4B;AAC1B4B,MAAAA,WAAW,GACT;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SACE;AAAK,QAAA,SAAS,EAAC,KAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SACE;AAAK,QAAA,KAAK,EAAC,YAAX;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SACE;AAAK,QAAA,SAAS,EAAC,UAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SACE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,qBADF,EAEE;AACE,QAAA,QAAQ,EAAE,KAAKtC,kBADjB;AAEE,QAAA,IAAI,EAAC,MAFP;AAGE,QAAA,KAAK,EAAC,cAHR;AAIE,QAAA,IAAI,EAAC,UAJP;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,QAFF,CADF,EAUE;AAAK,QAAA,SAAS,EAAC,UAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SACE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,yBADF,EAEE;AACE,QAAA,QAAQ,EAAE,KAAKA,kBADjB;AAEE,QAAA,IAAI,EAAC,MAFP;AAGE,QAAA,KAAK,EAAC,cAHR;AAIE,QAAA,IAAI,EAAC,iBAJP;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,QAFF,CAVF,CADF,CADF,EAuBE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,QAvBF,EAwBE;AAAK,QAAA,SAAS,EAAC,KAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SACE;AAAK,QAAA,KAAK,EAAC,YAAX;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SACE;AAAK,QAAA,SAAS,EAAC,UAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SACE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,4BADF,EAEE;AACE,QAAA,QAAQ,EAAE,KAAKA,kBADjB;AAEE,QAAA,IAAI,EAAC,MAFP;AAGE,QAAA,KAAK,EAAC,cAHR;AAIE,QAAA,IAAI,EAAC,UAJP;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,QAFF,CADF,EAWE;AAAK,QAAA,SAAS,EAAC,UAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SACE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,gCADF,EAEE;AACE,QAAA,QAAQ,EAAE,KAAKA,kBADjB;AAEE,QAAA,IAAI,EAAC,MAFP;AAGE,QAAA,KAAK,EAAC,cAHR;AAIE,QAAA,IAAI,EAAC,iBAJP;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,QAFF,CAXF,CADF,CAxBF,EA+CE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,QA/CF,EAgDE;AAAK,QAAA,SAAS,EAAC,KAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SACE;AAAK,QAAA,KAAK,EAAC,YAAX;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SACE;AAAK,QAAA,SAAS,EAAC,UAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SACE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,4BADF,EAEE;AACE,QAAA,QAAQ,EAAE,KAAKA,kBADjB;AAEE,QAAA,IAAI,EAAC,MAFP;AAGE,QAAA,KAAK,EAAC,cAHR;AAIE,QAAA,IAAI,EAAC,MAJP;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,QAFF,CADF,CADF,CAhDF,EA6DE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,QA7DF,EA8DE;AAAK,QAAA,SAAS,EAAC,KAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SACE;AAAK,QAAA,KAAK,EAAC,YAAX;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SACE;AAAK,QAAA,SAAS,EAAC,UAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SACE;AACE,QAAA,OAAO,EAAE,KAAKP,aADhB;AAEE,QAAA,KAAK,EAAE;AAAEkD,UAAAA,eAAe,EAAE;AAAnB,SAFT;AAGE,QAAA,KAAK,EAAC,cAHR;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,0BADF,CADF,EAUE;AAAK,QAAA,SAAS,EAAC,UAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SACE;AACE,QAAA,OAAO,EAAE,KAAKlC,iBADhB;AAEE,QAAA,KAAK,EAAE;AAAEkC,UAAAA,eAAe,EAAE,OAAnB;AAA4BH,UAAAA,KAAK,EAAE;AAAnC,SAFT;AAGE,QAAA,KAAK,EAAC,cAHR;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBADF,CAVF,CADF,CA9DF,CADF;AAuFD,KAxFD,MAwFO;AACLF,MAAAA,WAAW,GACT;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SACE;AACE,QAAA,KAAK,EAAE;AAAEM,UAAAA,KAAK,EAAE;AAAT,SADT;AAEE,QAAA,IAAI,EAAC,GAFP;AAGE,QAAA,OAAO,EAAE,KAAKnC,iBAHhB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,gBADF,EAQE;AAAK,QAAA,KAAK,EAAE;AAAEoC,UAAAA,QAAQ,EAAE,MAAZ;AAAoBC,UAAAA,YAAY,EAAE;AAAlC,SAAZ;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,iBARF,EAUE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SAAM,KAAKxF,KAAL,CAAWuE,IAAX,CAAgB/D,KAAtB,CAVF,EAWE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,QAXF,EAYE;AAAK,QAAA,KAAK,EAAE;AAAE+E,UAAAA,QAAQ,EAAE,MAAZ;AAAoBC,UAAAA,YAAY,EAAE;AAAlC,SAAZ;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,iBAZF,EAcE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SAAM,KAAKxF,KAAL,CAAWuE,IAAX,CAAgBC,KAAtB,CAdF,CADF;AAkBD;;AAED,QAAI,KAAK7C,KAAL,CAAW2B,YAAf,EAA6B;AAC3ByB,MAAAA,YAAY,GACV;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SACE;AAAK,QAAA,SAAS,EAAC,KAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SACE;AAAK,QAAA,KAAK,EAAC,YAAX;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SACE;AAAK,QAAA,SAAS,EAAC,UAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SACE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,4BADF,EAEE;AACE,QAAA,QAAQ,EAAE,KAAKrC,kBADjB;AAEE,QAAA,IAAI,EAAC,MAFP;AAGE,QAAA,KAAK,EAAC,cAHR;AAIE,QAAA,IAAI,EAAC,MAJP;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,QAFF,CADF,CADF,CADF,EAcE;AAAK,QAAA,SAAS,EAAC,KAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SACE;AAAK,QAAA,KAAK,EAAC,YAAX;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SACE;AAAK,QAAA,SAAS,EAAC,UAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SACE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,wBADF,EAEE;AACE,QAAA,QAAQ,EAAE,KAAKA,kBADjB;AAEE,QAAA,IAAI,EAAC,MAFP;AAGE,QAAA,KAAK,EAAC,cAHR;AAIE,QAAA,IAAI,EAAC,aAJP;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,QAFF,CADF,EAWE;AAAK,QAAA,SAAS,EAAC,UAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SACE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,4BADF,EAEE;AACE,QAAA,QAAQ,EAAE,KAAKA,kBADjB;AAEE,QAAA,IAAI,EAAC,MAFP;AAGE,QAAA,KAAK,EAAC,cAHR;AAIE,QAAA,IAAI,EAAC,iBAJP;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,QAFF,CAXF,CADF,CAdF,EAqCE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,QArCF,EAuCE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,QAvCF,EAwCE;AAAK,QAAA,SAAS,EAAC,KAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SACE;AAAK,QAAA,KAAK,EAAC,YAAX;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SACE;AAAK,QAAA,SAAS,EAAC,UAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SACE;AAAQ,QAAA,OAAO,EAAE,KAAKV,cAAtB;AAAsC,QAAA,KAAK,EAAC,iBAA5C;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,2BADF,CADF,EAME;AAAK,QAAA,SAAS,EAAC,UAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SACE;AACE,QAAA,OAAO,EAAE,KAAKqB,kBADhB;AAEE,QAAA,KAAK,EAAE;AAAEgC,UAAAA,eAAe,EAAE,OAAnB;AAA4BH,UAAAA,KAAK,EAAE;AAAnC,SAFT;AAGE,QAAA,KAAK,EAAC,cAHR;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBADF,CANF,CADF,CAxCF,CADF;AA6DD,KA9DD,MA8DO;AACLH,MAAAA,YAAY,GACV;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SACE;AACE,QAAA,KAAK,EAAE;AAAEO,UAAAA,KAAK,EAAE;AAAT,SADT;AAEE,QAAA,IAAI,EAAC,GAFP;AAGE,QAAA,OAAO,EAAE,KAAKjC,kBAHhB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,gBADF,EAQE;AAAK,QAAA,KAAK,EAAE;AAAEkC,UAAAA,QAAQ,EAAE,MAAZ;AAAoBC,UAAAA,YAAY,EAAE;AAAlC,SAAZ;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,oBARF,EAUE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,oBAVF,CADF;AAcD;;AAED,WACE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OACGZ,WADH,EAEE;AAAK,MAAA,SAAS,EAAC,KAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OACE;AAAK,MAAA,SAAS,EAAC,UAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OACE,oBAAC,aAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MADF,CADF,EAKE;AAAK,MAAA,SAAS,EAAC,WAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OACE;AAAK,MAAA,KAAK,EAAC,WAAX;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OACE;AAAK,MAAA,KAAK,EAAC,YAAX;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OAGE;AAAK,MAAA,KAAK,EAAC,OAAX;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OACE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,sBADF,CAHF,EAOE;AAAM,MAAA,QAAQ,EAAE,KAAKrB,WAArB;AAAkC,MAAA,OAAO,EAAC,qBAA1C;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OACE;AAAK,MAAA,KAAK,EAAC,qBAAX;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OACE;AACE,MAAA,KAAK,EAAC,aADR,CAEE;AAFF;AAGE,MAAA,GAAG,EAAE,KAAK5B,KAAL,CAAWmC,GAHlB;AAIE,MAAA,GAAG,EAAC,eAJN;AAKE,MAAA,KAAK,EAAC,KALR;AAME,MAAA,MAAM,EAAC,KANT;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MADF,EASE;AAAK,MAAA,SAAS,EAAC,eAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OACE;AAAG,MAAA,SAAS,EAAC,cAAb;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MADF,EAEE;AACE,MAAA,KAAK,EAAC,cADR;AAEE,MAAA,IAAI,EAAC,MAFP;AAGE,MAAA,QAAQ,EAAE,KAAKhB,kBAHjB;AAIE,MAAA,IAAI,EAAC,SAJP;AAKE,MAAA,EAAE,EAAC,SALL;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MAFF,EASE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MATF,CATF,EAoBE;AAAM,MAAA,KAAK,EAAC,OAAZ;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MApBF,CADF,EAuBGqC,SAvBH,CAPF,EAiCE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MAjCF,EAkCE;AAAI,MAAA,KAAK,EAAC,YAAV;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OACE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MADF,EAEE;AAAI,MAAA,KAAK,EAAC,iBAAV;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OAA6BL,QAA7B,CAFF,EAGE;AAAI,MAAA,KAAK,EAAC,iBAAV;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OAA6BE,WAA7B,CAHF,EAIE;AAAI,MAAA,KAAK,EAAC,iBAAV;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OAA6BD,YAA7B,CAJF,EAKE;AAAI,MAAA,KAAK,EAAC,iBAAV;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OACE;AACE,MAAA,KAAK,EAAE;AACLU,QAAAA,SAAS,EAAE,MADN;AAELD,QAAAA,YAAY,EAAE,MAFT;AAGLN,QAAAA,KAAK,EAAE,SAHF;AAILK,QAAAA,QAAQ,EAAE;AAJL,OADT;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,gCADF,CALF,CAlCF,EAsDE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MAtDF,EAwDE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MAxDF,CADF,CADF,CALF,CAFF,QAsEK,GAtEL,CADF;AA0ED;;AA9pBkC,C,CAgqBrC;AACA;;;AAEA,SAASG,eAAT,CAAyB/D,KAAzB,EAAgC;AAC9B,SAAO;AACL4C,IAAAA,IAAI,EAAE5C,KAAK,CAAC4C;AADP,GAAP;AAGD;;AAED,eAAe7E,OAAO,CAAEgG,eAAF,EAAoB;AAACnG,EAAAA,UAAU,EAAEA,UAAb;AAAyBE,EAAAA,YAAY,EAACA;AAAtC,CAApB,CAAP,CAAgFK,YAAhF,CAAf","sourcesContent":["import React, { Component } from 'react'\nimport '../../App.css'\nimport './BuyerProfile.css'\nimport axios from 'axios'\nimport cookie from 'react-cookies'\nimport { Redirect } from 'react-router'\nimport { Link } from 'react-router-dom'\nimport {getProfile} from '../../actions'\nimport {loginuser} from '../../actions'\nimport {getUserImage} from '../../actions'\nimport { connect } from 'react-redux'\nimport BuyerOwnerNav from '../Display/BuyerOwnerNav'\n\nimport {Field, reduxForm} from 'redux-form';\n\n\n// Define a Login Component\nclass BuyerProfile extends Component {\n  // call the constructor method\n  constructor (props) {\n    // Call the constrictor of Super class i.e The Component\n    super(props)\n    // maintain the state required for this component\n    this.state = {\n      email: '',\n      phonenumber: '',\n      password: '',\n      pswd: '',\n      newpassword: '',\n      confirmpassword: '',\n      firstname: '',\n      lastname: '',\n      file: '',\n      newEmail: '',\n      confirmNewEmail: '',\n      newPhone: '',\n      confirmNewPhone: '',\n      img: '',\n      authFlag: false,\n      authFailed: false,\n      nameflag: false,\n      contactflag: false,\n      passwordflag: false\n    }\n    // Bind the handlers to this class\n    // this.usernameChangeHandler = this.usernameChangeHandler.bind(this)\n    // this.passwordChangeHandler = this.passwordChangeHandler.bind(this)\n    // this.submitLogin = this.submitLogin.bind(this)\n  }\n  // Call the Will Mount to set the auth Flag to false\n  componentWillMount () {\n    let path = process.env.PUBLIC_URL\n    path = path + '/profilepics/Avatar.png'\n    \n    this.setState({\n      authFlag: false,\n      authFailed: false,\n      nameflag: false,\n      contactflag: false,\n      img: path,\n      passwordflag: false\n    })\n\n    let temp = sessionStorage.getItem('email')\n\n    let data = { email: temp }\n    console.log('Inside will mount: data value is: ' + data.email)\n\n    this.props.getProfile({ params: data }, (data)=>{\n      console.log('Redu test: ' + this.props.user)\n      this.setState({\n        email: data.email,\n        phonenumber: data.phone,\n        password: data.password,\n        firstname: data.first_name,\n        lastname: data.last_name\n      })\n    });\n\n\n    // axios\n    //   .get('http://localhost:3001/userprofile', { params: data })\n    //   .then(response => {\n    //     // update the state with the response data\n    //     //   console.log(\"Axios get:\",response.data);\n    //     this.setState({\n    //       email: response.data.email,\n    //       phonenumber: response.data.phone,\n    //       password: response.data.password,\n    //       firstname: response.data.first_name,\n    //       lastname: response.data.last_name\n    //     })\n    //   })\n      // console.log('before userimage call'+data);\n      // this.props.getUserImage(data, (response)=>{\n      //   console.log('Redux test: ' + this.props.user)\n      //   this.setState({\n          // img: 'data:image/png;base64, ' + response.image\n      //   })\n      // });\n    axios.post('http://localhost:3001/userimage', data).then(response => {\n      // update the state with the response data\n      console.log('Axios get:', response.data)\n      this.setState({\n        img: 'data:image/png;base64, ' + response.data\n      })\n    })\n  }\n\n  onSubmitUsername = (formValues)=> {\n    console.log('OnSubmit'+formValues)\n    let data= {\n      firstname: formValues.firstname,\n      lastname: formValues.lastname,\n      email: formValues.email,\n      password: formValues.password\n    }\n    axios.defaults.withCredentials = true\n    console.log(data);\n    axios\n      .post('http://localhost:3001/updateusername', data)\n      .then(response => {\n        console.log('Status Code : ', response.status)\n        if (response.status === 200) {\n          sessionStorage.setItem('email', data.email)\n          this.setState({\n            authFlag: true\n          })\n        }\n      })\n      .catch(err => {\n        this.setState({ authFailed: true })\n      })\n    this.props.loginuser(data);\n  }\n\n  updateUserName = e => {\n    let temp = sessionStorage.getItem('email')\n\n    let data = {\n      firstname: this.state.firstname,\n      lastname: this.state.lastname,\n      password: this.state.pswd,\n      email: temp\n    }\n    console.log('Inside will mount: data value is: ' + data.email)\n    axios.post('http://localhost:3001/updateusername', data).then(response => {\n      // update the state with the response data\n      window.location.reload()\n      console.log('Axios post:', response.data)\n    })\n  }\n\n  updatePassword = e => {\n    let temp = sessionStorage.getItem('email')\n    if (this.state.newpassword === this.state.confirmpassword) {\n      let data = {\n        newpassword: this.state.newpassword,\n        password: this.state.pswd,\n        email: temp\n      }\n      console.log('Inside will mount: data value is: ' + data.email)\n      axios\n        .post('http://localhost:3001/updatepassword', data)\n        .then(response => {\n          // update the state with the response data\n          window.location.reload()\n          console.log('Axios post:', response.data)\n        })\n    }\n  }\n\n  updateContact = e => {\n    let temp = sessionStorage.getItem('email')\n\n    let tempphone = null\n    let tempemail = null\n    let data = null\n    if (\n      this.state.newEmail !== null &&\n      this.state.newEmail === this.state.confirmNewEmail\n    ) {\n      tempemail = this.state.newEmail\n    } else {\n      tempemail = 'invalid'\n    }\n\n    if (\n      this.state.newPhone !== null &&\n      this.state.newPhone === this.state.confirmNewPhone\n    ) {\n      tempphone = this.state.newPhone\n    } else {\n      tempphone = 'invalid'\n    }\n\n    if (tempemail !== 'invalid' && tempphone !== 'invalid') {\n      data = {\n        newPhone: this.state.newPhone,\n        newEmail: this.state.newEmail,\n        password: this.state.pswd,\n        email: temp\n      }\n    } else if (tempemail === 'invalid' || ('' && tempphone !== 'invalid')) {\n      data = {\n        newPhone: this.state.newPhone,\n        password: this.state.pswd,\n        email: temp\n      }\n    } else if (tempphone === 'invalid' || ('' && tempemail !== 'invalid')) {\n      data = {\n        newEmail: this.state.newEmail,\n        password: this.state.pswd,\n        email: temp\n      }\n    }\n\n    if (data !== null) {\n      console.log('Inside will mount: data value is: ' + data.email)\n      axios.post('http://localhost:3001/updatecontact', data).then(response => {\n        console.log('Axios post:', response.data)\n        if (response.data === 'Upated email.') {\n          sessionStorage.setItem('email', data.newEmail)\n          window.location.reload()\n        }\n      })\n    }\n  }\n\n  inputChangeHandler = e => {\n    this.setState({\n      [e.target.name]: e.target.value\n    })\n  }\n\n  imageChangeHandler = e => {\n    // console.log('image change handle name: ' + e.target.name)\n    // console.log('image change handle value: ' + e.target.files[0])\n    this.setState({\n      file: e.target.files[0]\n    })\n  }\n\n  nameflageChange = e => {\n    if (this.state.nameflag) {\n      this.setState({\n        nameflag: false\n      })\n    } else {\n      this.setState({\n        nameflag: true\n      })\n    }\n  }\n  contactflagChange = e => {\n    if (this.state.contactflag) {\n      this.setState({\n        contactflag: false\n      })\n    } else {\n      this.setState({\n        contactflag: true\n      })\n    }\n  }\n\n  passwordflagChange = e => {\n    if (this.state.passwordflag) {\n      this.setState({\n        passwordflag: false\n      })\n    } else {\n      this.setState({\n        passwordflag: true\n      })\n    }\n  }\n  // submit Login handler to send a request to the node backend\n\n  uploadImage = e => {\n    e.preventDefault()\n    // var headers = new Headers();\n    const formData = new FormData()\n    // console.log(this.state.file.name)\n\n    let email = sessionStorage.getItem('email')\n    // this.setState({file.name:email})\n    // var imagedata = document.querySelector('input[type=\"file\"]').files[0];\n    formData.append('myImage', this.state.file, email)\n    // formData.append('myImage', this.state.file, email )\n    // formData.append('email', email)\n    const config = {\n      headers: {\n        'content-type': 'multipart/form-data'\n      }\n    }\n    axios\n      .post('/buyerprofile', formData, config)\n      .then(response => {\n        let data={'email':email}\n        axios.post('http://localhost:3001/userimage', data).then(response => {\n          // update the state with the response data\n          console.log('Axios get:', response.data)\n          this.setState({\n            img: 'data:image/png;base64, ' + response.data\n          })\n        })\n        console.log('The file is successfully uploaded')\n      })\n      .catch(error => {})\n    // prevent page from refresh\n  }\n\n  render () {\n    // redirect based on successful login\n    let redirectVar = null\n    let invalidtag = null\n    let editname = null\n    let editpassword = null\n    let editcontact = null\n    if (!cookie.load('cookie')) {\n      redirectVar = <Redirect to='/login' />\n    }\n\n    if (this.state.authFailed) {\n      invalidtag = (\n        <label style={{ color: 'red' }}>*Invalid user name password!</label>\n      )\n    }\n    let updatePic = null\n\n    if (this.state.file !== '') {\n      updatePic = (\n        <button\n          style={{ marginLeft: '537px' }}\n          className='btn btn-link'\n          type='submit'\n        >\n          Update\n        </button>\n      )\n    }\n\n    if (this.state.nameflag) {\n      editname = (\n        <div>\n          <div className='row'>\n            <div class='form-group'>\n              <div className='col-sm-4'>\n                <div>First name</div>\n                <input\n                  onChange={this.inputChangeHandler}\n                  type='text'\n                  class='form-control'\n                  name='firstname'\n                  value={this.state.firstname}\n                />\n              </div>\n\n              <div className='col-sm-4'>\n                <div>Last name</div>\n                <input\n                  onChange={this.inputChangeHandler}\n                  type='text'\n                  class='form-control'\n                  name='lastname'\n                  value={this.state.lastname}\n                />\n              </div>\n            </div>\n          </div>\n          <br />\n          <div className='row'>\n            <div class='form-group'>\n              <div className='col-sm-4'>\n                <div>Current password</div>\n                <input\n                  onChange={this.inputChangeHandler}\n                  type='text'\n                  class='form-control'\n                  name='pswd'\n                />\n              </div>\n            </div>\n          </div>\n          <br />\n          <div className='row'>\n            <div class='form-group'>\n              <div className='col-sm-3'>\n                <button\n                  onClick={this.updateUserName}\n                  style={{ backgroundColor: '#0070eb' }}\n                  class='btn btn-info'\n                >\n                  Update name\n                </button>\n              </div>\n              <div className='col-sm-3'>\n                <button\n                  onClick={this.nameflageChange}\n                  style={{ backgroundColor: 'white', color: '#0070eb' }}\n                  class='btn btn-info'\n                >\n                  Cancel\n                </button>\n              </div>\n            </div>\n          </div>\n        </div>\n      )\n    } else {\n      editname = (\n        <div>\n          <a style={{ float: 'right' }} href='#' onClick={this.nameflageChange}>\n            Edit\n          </a>\n          <div style={{ fontSize: '14px', marginBottom: '10px' }}>Name</div>\n\n          <div>\n            {this.props.user.first_name} {this.props.user.last_name}\n          </div>\n        </div>\n      )\n    }\n\n    if (this.state.contactflag) {\n      editcontact = (\n        <div>\n          <div className='row'>\n            <div class='form-group'>\n              <div className='col-sm-4'>\n                <div>New email</div>\n                <input\n                  onChange={this.inputChangeHandler}\n                  type='text'\n                  class='form-control'\n                  name='newEmail'\n                />\n              </div>\n              <div className='col-sm-4'>\n                <div>Confirm email</div>\n                <input\n                  onChange={this.inputChangeHandler}\n                  type='text'\n                  class='form-control'\n                  name='confirmNewEmail'\n                />\n              </div>\n            </div>\n          </div>\n          <br />\n          <div className='row'>\n            <div class='form-group'>\n              <div className='col-sm-4'>\n                <div>New phone number</div>\n                <input\n                  onChange={this.inputChangeHandler}\n                  type='text'\n                  class='form-control'\n                  name='newPhone'\n                />\n              </div>\n\n              <div className='col-sm-4'>\n                <div>Confirm phone number</div>\n                <input\n                  onChange={this.inputChangeHandler}\n                  type='text'\n                  class='form-control'\n                  name='confirmNewPhone'\n                />\n              </div>\n            </div>\n          </div>\n          <br />\n          <div className='row'>\n            <div class='form-group'>\n              <div className='col-sm-4'>\n                <div>Current password</div>\n                <input\n                  onChange={this.inputChangeHandler}\n                  type='text'\n                  class='form-control'\n                  name='pswd'\n                />\n              </div>\n            </div>\n          </div>\n          <br />\n          <div className='row'>\n            <div class='form-group'>\n              <div className='col-sm-3'>\n                <button\n                  onClick={this.updateContact}\n                  style={{ backgroundColor: '#0070eb' }}\n                  class='btn btn-info'\n                >\n                  Update contact\n                </button>\n              </div>\n              <div className='col-sm-3'>\n                <button\n                  onClick={this.contactflagChange}\n                  style={{ backgroundColor: 'white', color: '#0070eb' }}\n                  class='btn btn-info'\n                >\n                  Cancel\n                </button>\n              </div>\n            </div>\n          </div>\n        </div>\n      )\n    } else {\n      editcontact = (\n        <div>\n          <a\n            style={{ float: 'right' }}\n            href='#'\n            onClick={this.contactflagChange}\n          >\n            Edit\n          </a>\n          <div style={{ fontSize: '14px', marginBottom: '10px' }}>Email</div>\n\n          <div>{this.props.user.email}</div>\n          <br />\n          <div style={{ fontSize: '14px', marginBottom: '10px' }}>Phone</div>\n\n          <div>{this.props.user.phone}</div>\n        </div>\n      )\n    }\n\n    if (this.state.passwordflag) {\n      editpassword = (\n        <div>\n          <div className='row'>\n            <div class='form-group'>\n              <div className='col-sm-4'>\n                <div>Current password</div>\n                <input\n                  onChange={this.inputChangeHandler}\n                  type='text'\n                  class='form-control'\n                  name='pswd'\n                />\n              </div>\n            </div>\n          </div>\n          <div className='row'>\n            <div class='form-group'>\n              <div className='col-sm-4'>\n                <div>New password</div>\n                <input\n                  onChange={this.inputChangeHandler}\n                  type='text'\n                  class='form-control'\n                  name='newpassword'\n                />\n              </div>\n\n              <div className='col-sm-4'>\n                <div>Confirm password</div>\n                <input\n                  onChange={this.inputChangeHandler}\n                  type='text'\n                  class='form-control'\n                  name='confirmpassword'\n                />\n              </div>\n            </div>\n          </div>\n          <br />\n\n          <br />\n          <div className='row'>\n            <div class='form-group'>\n              <div className='col-sm-3'>\n                <button onClick={this.updatePassword} class='btn btn-primary'>\n                  Update password\n                </button>\n              </div>\n              <div className='col-sm-3'>\n                <button\n                  onClick={this.passwordflagChange}\n                  style={{ backgroundColor: 'white', color: '#0070eb' }}\n                  class='btn btn-info'\n                >\n                  Cancel\n                </button>\n              </div>\n            </div>\n          </div>\n        </div>\n      )\n    } else {\n      editpassword = (\n        <div>\n          <a\n            style={{ float: 'right' }}\n            href='#'\n            onClick={this.passwordflagChange}\n          >\n            Edit\n          </a>\n          <div style={{ fontSize: '14px', marginBottom: '10px' }}>Password</div>\n\n          <div>********</div>\n        </div>\n      )\n    }\n\n    return (\n      <div>\n        {redirectVar}\n        <div className='row'>\n          <div className='col-sm-2'>\n            <BuyerOwnerNav />\n          </div>\n\n          <div className='col-sm-10'>\n            <div class='container'>\n              <div class='login-form'>\n                {/* <div class='main-div'> */}\n\n                <div class='panel'>\n                  <h2>Your account</h2>\n                  {/* {invalidtag} */}\n                </div>\n                <form onSubmit={this.uploadImage} enctype='multipart/form-data'>\n                  <div class='preview text-center'>\n                    <img\n                      class='preview-img'\n                      // src='http://simpleicon.com/wp-content/uploads/account.png'\n                      src={this.state.img}\n                      alt='Preview Image'\n                      width='200'\n                      height='200'\n                    />\n                    <div className='browse-button'>\n                      <i className='fa fa-pencil' />\n                      <input\n                        class='browse-input'\n                        type='file'\n                        onChange={this.imageChangeHandler}\n                        name='myImage'\n                        id='myImage'\n                      />\n                      <br />\n                    </div>\n                    <span class='Error' />\n                  </div>\n                  {updatePic}\n                </form>\n\n                <br />\n                <ul class='list-group'>\n                  <br />\n                  <li class='list-group-item'>{editname}</li>\n                  <li class='list-group-item'>{editcontact}</li>\n                  <li class='list-group-item'>{editpassword}</li>\n                  <li class='list-group-item'>\n                    <div\n                      style={{\n                        marginTop: '10px',\n                        marginBottom: '10px',\n                        color: '#0070eb',\n                        fontSize: '14px'\n                      }}\n                    >\n                      Continue with Facebook\n                    </div>\n                  </li>\n                  {/* <li class='list-group-item' /> */}\n                </ul>\n\n                <br />\n\n                <br />\n              </div>\n            </div>\n          </div>\n        </div>\n        //{' '}\n      </div>\n    )\n  }\n}\n// export Login Component\n// export default BuyerProfile\n\nfunction mapStateToProps(state) {\n  return {\n    user: state.user\n  };\n}\n\nexport default connect( mapStateToProps , {getProfile: getProfile, getUserImage:getUserImage})(BuyerProfile);\n"]},"metadata":{},"sourceType":"module"}