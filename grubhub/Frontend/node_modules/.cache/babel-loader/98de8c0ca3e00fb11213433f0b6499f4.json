{"ast":null,"code":"var _jsxFileName = \"/Users/kirankumarbijjala/Documents/Lab2/grubhub/Frontend/src/components/OwnerMessage.js\";\nimport React, { Component } from 'react';\nimport '../App.css'; // import '../css/bootstrap.css';\n\nimport axios from 'axios';\nimport NavBar from './NavBar';\nimport { Redirect } from 'react-router';\nimport { Link } from 'react-router-dom';\nimport Reply from \"./Reply\";\nconst ROOT_URL = 'http://localhost:3001';\n\nclass OwnerMessage extends Component {\n  constructor(props) {\n    super(props);\n\n    this.postMessage = e => {\n      e.preventDefault();\n      const data = {\n        owneremail: JSON.parse(sessionStorage.getItem(\"ownerdata\"))[0].email,\n        orderid: sessionStorage.getItem(\"orderselected\"),\n        buyeremail: sessionStorage.getItem(\"email\"),\n        question: this.state.message\n      };\n      console.log(data); //set the with credentials to true\n\n      axios.defaults.withCredentials = true; //make a post request with the user data\n\n      axios.post(\"\".concat(ROOT_URL, \"/ReplyMessage\"), data).then(response => {\n        console.log(\"Status Code  is : \", response.status);\n        console.log(response.data);\n\n        if (response.status === 200) {\n          console.log('Post successfully');\n          alert(\"Message Posted\");\n        } else {\n          console.log('Post failed !!! ');\n        }\n      });\n    };\n\n    this.state = {\n      msg: [],\n      owneremail: \"\",\n      orderid: \"\",\n      buyeremail: \"\",\n      question: \"\",\n      reply: \"\",\n      writereply: \"\",\n      update: \"\"\n    };\n  }\n\n  componentWillMount() {\n    var email = JSON.parse(sessionStorage.getItem(\"ownerdata\"))[0].email;\n    console.log(email);\n    axios.get(\"\".concat(ROOT_URL, \"/GetMessage\"), {\n      params: {\n        id: email\n      }\n    }).then(response => {\n      console.log(response);\n      console.log(response.data);\n      this.setState({\n        msg: response.data\n      });\n    });\n  }\n\n  render() {\n    var replyerr;\n    var msgbox = this.state.msg.map(msg => {\n      if (msg.question == \"\" || null) {\n        replyerr = React.createElement(\"div\", {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 82\n          },\n          __self: this\n        }, React.createElement(\"img\", {\n          style: {\n            maxWidth: \"360px\"\n          },\n          src: require(\"../image/message.png\"),\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 83\n          },\n          __self: this\n        }));\n      }\n\n      return React.createElement(\"div\", {\n        className: \"col-md-7\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 89\n        },\n        __self: this\n      }, React.createElement(\"div\", {\n        className: \"container\",\n        style: {\n          width: \"530px\"\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 91\n        },\n        __self: this\n      }, React.createElement(\"ul\", {\n        className: \"col-md-8 list-group\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 92\n        },\n        __self: this\n      }, React.createElement(\"h2\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 94\n        },\n        __self: this\n      }, \" Message for \", msg.orderid), replyerr, React.createElement(\"div\", {\n        className: \"container\",\n        style: {\n          width: \"380px\"\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 96\n        },\n        __self: this\n      }, React.createElement(\"h5\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 97\n        },\n        __self: this\n      }, \"Buyer : \", msg.buyeremail, \" \"), React.createElement(\"h4\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 98\n        },\n        __self: this\n      }, msg.question)), msg.reply != undefined ? React.createElement(\"div\", {\n        className: \"container darker\",\n        style: {\n          width: \"394px\",\n          marginLeft: \"83px\"\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 101\n        },\n        __self: this\n      }, React.createElement(\"h4\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 102\n        },\n        __self: this\n      }, msg.reply)) : null, React.createElement(Reply, {\n        data: msg,\n        status: this.state.update,\n        update: this.updateState,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 105\n        },\n        __self: this\n      }))));\n    });\n    return React.createElement(\"div\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 117\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      className: \"container-fluid\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 119\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      className: \"container-fluid\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 120\n      },\n      __self: this\n    }, React.createElement(\"ul\", {\n      className: \"nav nav-tabs\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 121\n      },\n      __self: this\n    }, React.createElement(\"li\", {\n      style: {\n        paddingLeft: \"11%\"\n      },\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 123\n      },\n      __self: this\n    }, React.createElement(Link, {\n      to: \"/OwnerMessage\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 123\n      },\n      __self: this\n    }, \"Owner Message\")))), msgbox));\n  }\n\n}\n\nexport default OwnerMessage;","map":{"version":3,"sources":["/Users/kirankumarbijjala/Documents/Lab2/grubhub/Frontend/src/components/OwnerMessage.js"],"names":["React","Component","axios","NavBar","Redirect","Link","Reply","ROOT_URL","OwnerMessage","constructor","props","postMessage","e","preventDefault","data","owneremail","JSON","parse","sessionStorage","getItem","email","orderid","buyeremail","question","state","message","console","log","defaults","withCredentials","post","then","response","status","alert","msg","reply","writereply","update","componentWillMount","get","params","id","setState","render","replyerr","msgbox","map","maxWidth","require","width","undefined","marginLeft","updateState","paddingLeft"],"mappings":"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","sourcesContent":["import React, { Component } from 'react';\nimport '../App.css';\n// import '../css/bootstrap.css';\nimport axios from 'axios';\nimport NavBar from './NavBar';\nimport { Redirect } from 'react-router';\nimport { Link } from 'react-router-dom';\nimport Reply from \"./Reply\";\n\nconst ROOT_URL = 'http://localhost:3001'\n\n\nclass OwnerMessage extends Component {\n    constructor(props) {\n        super(props);\n        this.state = {\n            msg: [],\n            owneremail: \"\",\n            orderid: \"\",\n            buyeremail: \"\",\n            question: \"\",\n            reply: \"\",\n            writereply: \"\",\n            update: \"\",\n        };\n\n    }\n\n    componentWillMount() {\n\n        var email = JSON.parse(sessionStorage.getItem(\"ownerdata\"))[0].email;\n        console.log(email);\n        axios.get(`${ROOT_URL}/GetMessage`, {\n            params: {\n                id: email\n            }\n        })\n            .then((response) => {\n                console.log(response);\n                console.log(response.data);\n\n                this.setState({\n                    msg: response.data\n                })\n\n            });\n    }\n\n    postMessage = (e) => {\n        e.preventDefault();\n           const data = {\n            owneremail : JSON.parse(sessionStorage.getItem(\"ownerdata\"))[0].email,\n            orderid :  sessionStorage.getItem(\"orderselected\"),\n            buyeremail : sessionStorage.getItem(\"email\"),\n            question :this.state.message,\n          }\n          console.log(data);\n          //set the with credentials to true\n          axios.defaults.withCredentials = true;\n          //make a post request with the user data\n          axios.post(`${ROOT_URL}/ReplyMessage`,data)\n              .then(response => {\n                  console.log(\"Status Code  is : \",response.status);\n                  console.log(response.data);\n                  if(response.status === 200){\n                          console.log('Post successfully');\n                          alert(\"Message Posted\")\n                  }else{\n                      console.log('Post failed !!! ');\n    \n                  }\n              });\n    }\n\n\n\n\n    render() {\n        var replyerr;\n        var msgbox = this.state.msg.map((msg) => {\n            if (msg.question == \"\" || null) {\n                replyerr = <div>\n                    <img style={{ maxWidth: \"360px\" }} src={require(\"../image/message.png\")} />\n                </div>\n            }\n\n\n            return (\n                <div className=\"col-md-7\">\n\n                    <div className=\"container\" style={{ width: \"530px\" }}>\n                        <ul className=\"col-md-8 list-group\">\n\n                            <h2> Message for {msg.orderid}</h2>\n                            {replyerr}\n                            <div className=\"container\" style={{ width: \"380px\" }}>\n                                <h5>Buyer : {msg.buyeremail} </h5>\n                                <h4>{msg.question}</h4>\n                            </div>\n\n                            {msg.reply != undefined ? <div className=\"container darker\" style={{ width: \"394px\", marginLeft: \"83px\" }}>\n                                <h4>{msg.reply}</h4>\n                            </div> : null}\n\n                            <Reply data={msg} status={this.state.update} update={this.updateState} />\n\n                        </ul>\n                    </div>\n                </div>\n\n            )\n\n        })\n\n        return (\n\n            <div>\n                {/* <NavBar /> */}\n                <div className=\"container-fluid\">\n                    <div className=\"container-fluid\">\n                        <ul className=\"nav nav-tabs\" >\n                            {/* <li style= {{paddingLeft : \"11%\" }}><Link to=\"/OwnerDashboard\">OwnerDashboard</Link></li> */}\n                            <li style={{ paddingLeft: \"11%\" }}><Link to=\"/OwnerMessage\">Owner Message</Link></li>\n                            {/* <li style= {{paddingLeft : \"11%\" }}><Link to='/' onClick={this.logout} >Logout</Link></li>  */}\n                        </ul>\n                    </div>\n\n                    {msgbox}\n                </div>\n\n            </div>\n        )\n    }\n}\nexport default OwnerMessage;\n"]},"metadata":{},"sourceType":"module"}