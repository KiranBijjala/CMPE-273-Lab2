{"ast":null,"code":"var _jsxFileName = \"/Users/kirankumarbijjala/Downloads/CMPE 273/Snippets/React Demo/Frontend/src/components/Delete/Delete.js\";\nimport React, { Component } from 'react';\nimport axios from 'axios';\nimport cookie from 'react-cookies';\nimport { Redirect } from 'react-router';\n\nclass Delete extends Component {\n  constructor() {\n    super();\n\n    this.BookIDChangeHandler = e => {\n      this.setState({\n        BookID: e.target.value\n      });\n    };\n\n    this.deleteBook = e => {\n      var headers = new Headers(); //prevent page from refresh\n\n      e.preventDefault();\n      const data = {\n        BookID: this.state.BookID,\n        Title: this.state.Title,\n        Author: this.state.Author\n      }; //set the with credentials to true\n\n      axios.defaults.withCredentials = true; //make a post request with the user data\n\n      axios.post('http://localhost:3001/delete', data).then(response => {\n        console.log(\"Status Code : \", response.status);\n\n        if (response.status === 200) {\n          this.setState({\n            redirectnew: true\n          });\n        }\n      }).catch(err => {\n        this.setState({\n          faildelete: true\n        });\n      });\n    };\n\n    this.state = {\n      BookID: \"\",\n      Title: \"\",\n      Author: \"\",\n      redirectnew: false,\n      faildelete: false\n    };\n  }\n\n  componentWillMount() {\n    this.setState({\n      redirect: false\n    });\n  } //username change handler to update state variable with the text entered by the user\n\n\n  render() {\n    let redirectdelete = null;\n\n    if (this.state.redirectnew) {\n      redirectdelete = React.createElement(Redirect, {\n        to: {\n          pathname: \"/home\"\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 55\n        },\n        __self: this\n      });\n    }\n\n    let faillabeldelete = null;\n\n    if (this.state.faildelete) {\n      faillabeldelete = React.createElement(\"label\", {\n        style: {\n          color: \"red\"\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 60\n        },\n        __self: this\n      }, \"Book Not Found\");\n    }\n\n    return React.createElement(\"div\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 65\n      },\n      __self: this\n    }, redirectdelete, React.createElement(\"br\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 67\n      },\n      __self: this\n    }), React.createElement(\"div\", {\n      class: \"container\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 69\n      },\n      __self: this\n    }, React.createElement(\"form\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 71\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      style: {\n        width: \"50%\",\n        float: \"left\"\n      },\n      class: \"form-group\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 72\n      },\n      __self: this\n    }, React.createElement(\"input\", {\n      onChange: this.BookIDChangeHandler,\n      type: \"number\",\n      class: \"form-control\",\n      name: \"BookID\",\n      placeholder: \"Search a Book by Book ID\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 73\n      },\n      __self: this\n    }), faillabeldelete), React.createElement(\"div\", {\n      style: {\n        width: \"50%\",\n        float: \"right\"\n      },\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 76\n      },\n      __self: this\n    }, React.createElement(\"button\", {\n      onClick: this.deleteBook,\n      class: \"btn btn-success\",\n      type: \"submit\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 77\n      },\n      __self: this\n    }, \"Delete\")))));\n  }\n\n}\n\nexport default Delete;","map":{"version":3,"sources":["/Users/kirankumarbijjala/Downloads/CMPE 273/Snippets/React Demo/Frontend/src/components/Delete/Delete.js"],"names":["React","Component","axios","cookie","Redirect","Delete","constructor","BookIDChangeHandler","e","setState","BookID","target","value","deleteBook","headers","Headers","preventDefault","data","state","Title","Author","defaults","withCredentials","post","then","response","console","log","status","redirectnew","catch","err","faildelete","componentWillMount","redirect","render","redirectdelete","pathname","faillabeldelete","color","width","float"],"mappings":"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","sourcesContent":["import React, {Component} from 'react';\r\nimport axios from 'axios';\r\nimport cookie from 'react-cookies';\r\nimport {Redirect} from 'react-router';\r\n\r\nclass Delete extends Component{\r\n    constructor(){\r\n        super();\r\n        this.state = {\r\n            BookID : \"\",\r\n            Title : \"\",\r\n            Author : \"\",\r\n            redirectnew : false,\r\n            faildelete :false\r\n        }\r\n    }  \r\n\r\ncomponentWillMount(){\r\n    this.setState({\r\n        redirect : false\r\n    })\r\n}\r\n//username change handler to update state variable with the text entered by the user\r\nBookIDChangeHandler = (e) => {\r\n    this.setState({\r\n        BookID : e.target.value\r\n    })\r\n}\r\n\r\n//submit Login handler to send a request to the node backend\r\ndeleteBook = (e) => {\r\n    var headers = new Headers();\r\n    //prevent page from refresh\r\n    e.preventDefault();\r\n    const data = {\r\n        BookID : this.state.BookID,\r\n        Title : this.state.Title,\r\n        Author : this.state.Author\r\n    }\r\n    //set the with credentials to true\r\n    axios.defaults.withCredentials = true;\r\n    //make a post request with the user data\r\n    axios.post('http://localhost:3001/delete',data)\r\n        .then(response => {\r\n            console.log(\"Status Code : \",response.status);\r\n            if(response.status === 200){\r\n                this.setState({redirectnew :true});\r\n            } }).catch(err=>{\r\n                this.setState({faildelete:true})\r\n            })\r\n}\r\n    render(){\r\n        let redirectdelete = null;\r\n        if (this.state.redirectnew) {\r\n            redirectdelete =  <Redirect to = {{ pathname: \"/home\" }} />;\r\n            }\r\n        let faillabeldelete = null;\r\n        if(this.state.faildelete ){\r\n            faillabeldelete = (\r\n                <label style = {{color : \"red\"}}>Book Not Found</label>\r\n            )\r\n        }\r\n\r\n        return(\r\n            <div>\r\n                {redirectdelete}\r\n                <br/>\r\n            \r\n            <div class=\"container\">\r\n                \r\n                <form>\r\n                    <div style={{width: \"50%\",float: \"left\"}} class=\"form-group\">\r\n                        <input onChange = {this.BookIDChangeHandler} type=\"number\" class=\"form-control\" name=\"BookID\" placeholder=\"Search a Book by Book ID\"/>\r\n                        {faillabeldelete}\r\n                    </div>\r\n                    <div style={{width: \"50%\", float: \"right\"}}>\r\n                            <button onClick = {this.deleteBook} class=\"btn btn-success\" type=\"submit\">Delete</button>\r\n                    </div> \r\n                </form>\r\n            </div>\r\n            </div>\r\n        )\r\n    }\r\n}\r\n\r\nexport default Delete;"]},"metadata":{},"sourceType":"module"}