{"ast":null,"code":"var _jsxFileName = \"/Users/kirankumarbijjala/Documents/Lab2/grubhub/Frontend/src/components/OwnerMessage.js\";\nimport React, { Component } from 'react';\nimport '../App.css'; // import '../css/bootstrap.css';\n\nimport axios from 'axios';\nimport NavBar from './NavBar';\nimport { Redirect } from 'react-router';\nimport { Link } from 'react-router-dom';\nimport Reply from \"./Reply\";\nconst ROOT_URL = 'http://localhost:3001';\n\nclass OwnerMessage extends Component {\n  constructor(props) {\n    super(props);\n\n    this.postMessage = e => {\n      e.preventDefault();\n      const data = {\n        owneremail: JSON.parse(sessionStorage.getItem(\"ownerdata\"))[0].email,\n        // orderid :  this.props.user ,\n        buyeremail: sessionStorage.getItem(\"email\"),\n        question: this.state.message\n      };\n      console.log(data); //set the with credentials to true\n\n      axios.defaults.withCredentials = true; //make a post request with the user data\n\n      axios.post(\"\".concat(ROOT_URL, \"/PostMessage\"), data).then(response => {\n        console.log(\"Status Code  is : \", response.status);\n        console.log(response.data);\n\n        if (response.status === 200) {\n          console.log('Post successfully');\n        } else {\n          console.log('Post failed !!! ');\n        }\n      });\n    };\n\n    this.state = {\n      msg: [],\n      owneremail: \"\",\n      orderid: \"\",\n      buyeremail: \"\",\n      question: \"\",\n      reply: \"\",\n      writereply: \"\",\n      update: \"\"\n    };\n  }\n\n  componentWillMount() {\n    var email = JSON.parse(sessionStorage.getItem(\"ownerdata\"))[0].email;\n    console.log(email);\n    axios.get(\"\".concat(ROOT_URL, \"/GetMessage\"), {\n      params: {\n        id: email\n      }\n    }).then(response => {\n      console.log(response);\n      console.log(response.data);\n      this.setState({\n        msg: response.data\n      });\n    });\n  }\n\n  render() {\n    var replyerr;\n    var msgbox = this.state.msg.map(msg => {\n      if (msg.question == \"\" || null) {\n        replyerr = React.createElement(\"div\", {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 80\n          },\n          __self: this\n        }, React.createElement(\"img\", {\n          style: {\n            maxWidth: \"360px\"\n          },\n          src: require(\"../image/message.png\"),\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 81\n          },\n          __self: this\n        }));\n      }\n\n      return React.createElement(\"div\", {\n        className: \"col-md-7\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 87\n        },\n        __self: this\n      }, React.createElement(\"div\", {\n        className: \"container\",\n        style: {\n          width: \"530px\"\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 89\n        },\n        __self: this\n      }, React.createElement(\"ul\", {\n        className: \"col-md-8 list-group\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 90\n        },\n        __self: this\n      }, React.createElement(\"h2\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 92\n        },\n        __self: this\n      }, \" Message for \", msg.orderid), replyerr, React.createElement(\"div\", {\n        className: \"container\",\n        style: {\n          width: \"380px\"\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 94\n        },\n        __self: this\n      }, React.createElement(\"h5\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 95\n        },\n        __self: this\n      }, \"Buyer : \", msg.buyeremail, \" \"), React.createElement(\"h4\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 96\n        },\n        __self: this\n      }, msg.question)), msg.reply != undefined ? React.createElement(\"div\", {\n        className: \"container darker\",\n        style: {\n          width: \"394px\",\n          marginLeft: \"83px\"\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 99\n        },\n        __self: this\n      }, React.createElement(\"h4\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 100\n        },\n        __self: this\n      }, msg.reply)) : null, React.createElement(Reply, {\n        data: msg,\n        status: this.state.update,\n        update: this.updateState,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 103\n        },\n        __self: this\n      }))));\n    });\n    return React.createElement(\"div\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 115\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      className: \"container-fluid\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 117\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      className: \"container-fluid\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 118\n      },\n      __self: this\n    }, React.createElement(\"ul\", {\n      className: \"nav nav-tabs\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 119\n      },\n      __self: this\n    }, React.createElement(\"li\", {\n      style: {\n        paddingLeft: \"11%\"\n      },\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 121\n      },\n      __self: this\n    }, React.createElement(Link, {\n      to: \"/OwnerMessage\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 121\n      },\n      __self: this\n    }, \"Owner Message\")))), msgbox));\n  }\n\n}\n\nexport default OwnerMessage;","map":{"version":3,"sources":["/Users/kirankumarbijjala/Documents/Lab2/grubhub/Frontend/src/components/OwnerMessage.js"],"names":["React","Component","axios","NavBar","Redirect","Link","Reply","ROOT_URL","OwnerMessage","constructor","props","postMessage","e","preventDefault","data","owneremail","JSON","parse","sessionStorage","getItem","email","buyeremail","question","state","message","console","log","defaults","withCredentials","post","then","response","status","msg","orderid","reply","writereply","update","componentWillMount","get","params","id","setState","render","replyerr","msgbox","map","maxWidth","require","width","undefined","marginLeft","updateState","paddingLeft"],"mappings":"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","sourcesContent":["import React, { Component } from 'react';\nimport '../App.css';\n// import '../css/bootstrap.css';\nimport axios from 'axios';\nimport NavBar from './NavBar';\nimport {Redirect} from 'react-router';\nimport {Link} from 'react-router-dom';\nimport Reply from \"./Reply\";\n\nconst ROOT_URL = 'http://localhost:3001'\n\n\nclass OwnerMessage extends Component{\n       constructor(props){\n        super(props);\n        this.state = {\n            msg : [],\n            owneremail : \"\",\n            orderid : \"\",\n            buyeremail : \"\",\n            question : \"\",\n            reply : \"\",\n            writereply : \"\",\n            update : \"\",\n          };\n\n        }\n\n        componentWillMount(){\n           \n            var email = JSON.parse(sessionStorage.getItem(\"ownerdata\"))[0].email;   \n            console.log(email);     \n            axios.get(`${ROOT_URL}/GetMessage`,{\n                params: {\n                    id : email\n                }})\n                    .then((response) => {\n                    console.log(response);\n                    console.log(response.data);\n                    \n                    this.setState({\n                        msg : response.data\n                    })\n                   \n                });\n        }\n\n          postMessage = (e) => {\n      e.preventDefault();\n         const data = {\n          owneremail : JSON.parse(sessionStorage.getItem(\"ownerdata\"))[0].email,\n          // orderid :  this.props.user ,\n          buyeremail : sessionStorage.getItem(\"email\"),\n          question :this.state.message,\n        }\n        console.log(data);\n        //set the with credentials to true\n        axios.defaults.withCredentials = true;\n        //make a post request with the user data\n        axios.post(`${ROOT_URL}/PostMessage`,data)\n            .then(response => {\n                console.log(\"Status Code  is : \",response.status);\n                console.log(response.data);\n                if(response.status === 200){\n                        console.log('Post successfully');\n                }else{\n                    console.log('Post failed !!! ');\n\n                }\n            });\n  }\n\n\n       \n\n    render(){\n            var replyerr;\n            var msgbox = this.state.msg.map((msg)=>{\n            if(msg.question == \"\" || null){\n                replyerr = <div>\n                <img  style={{maxWidth: \"360px\"}} src={require(\"../image/message.png\")} />\n                           </div> \n               }\n    \n\n            return(\n                    <div className=\"col-md-7\">\n\n                    <div className=\"container\" style={{width :\"530px\"}}>  \n                    <ul className=\"col-md-8 list-group\">\n\n                        <h2> Message for {msg.orderid}</h2>\n                    {replyerr}\n                    <div className=\"container\"  style={{width :\"380px\"}}>\n                    <h5>Buyer : {msg.buyeremail} </h5>\n                    <h4>{msg.question}</h4>\n                    </div>\n\n                    {msg.reply != undefined ? <div className=\"container darker\" style={{width :\"394px\", marginLeft : \"83px\"}}>\n                        <h4>{msg.reply}</h4>\n                        </div> : null}\n\n                      <Reply data = {msg} status = {this.state.update} update = {this.updateState}/>   \n\n                    </ul> \n                    </div>\n                    </div>\n\n            )\n\n        }) \n\n        return(\n            \n            <div> \n            {/* <NavBar /> */}\n          <div className =\"container-fluid\">\n            <div className=\"container-fluid\">\n             <ul className=\"nav nav-tabs\" >\n                 {/* <li style= {{paddingLeft : \"11%\" }}><Link to=\"/OwnerDashboard\">OwnerDashboard</Link></li> */}\n                 <li style= {{paddingLeft : \"11%\" }}><Link to=\"/OwnerMessage\">Owner Message</Link></li>\n                 {/* <li style= {{paddingLeft : \"11%\" }}><Link to='/' onClick={this.logout} >Logout</Link></li>  */}\n             </ul>\n             </div>\n\n                    {msgbox}           \n            </div>\n    \n            </div>\n        )\n    }\n}\n export default OwnerMessage;\n"]},"metadata":{},"sourceType":"module"}