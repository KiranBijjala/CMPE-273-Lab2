{"ast":null,"code":"var _jsxFileName = \"/Users/kirankumarbijjala/Downloads/CMPE 273/Snippets/React Demo/Frontend/src/components/Create/Create.js\";\nimport React, { Component } from 'react';\nimport axios from 'axios';\nimport cookie from 'react-cookies';\nimport { Redirect } from 'react-router';\n\nclass Create extends Component {\n  constructor(props) {\n    super(props);\n\n    this.BookIDChangeHandler = e => {\n      this.setState({\n        BookID: e.target.value\n      });\n    };\n\n    this.TitleChangeHandler = e => {\n      this.setState({\n        Title: e.target.value\n      });\n    };\n\n    this.AuthorChangeHandler = e => {\n      this.setState({\n        Author: e.target.value\n      });\n    };\n\n    this.validate = () => {\n      let Bookiderror = \"\";\n\n      if (!this.state.Bookid) {\n        Bookiderror = \"Book id cannot be blank\";\n      }\n\n      if (Bookiderror) {\n        this.setState({\n          Bookiderror\n        });\n      }\n    };\n\n    this.handleSubmit = e => {\n      e.preventDefault();\n      const isValid = this.validate();\n\n      if (isValid) {\n        console.log(this.state);\n      }\n    };\n\n    this.createBook = e => {\n      var headers = new Headers(); //prevent page from refresh\n\n      e.preventDefault();\n      const data = {\n        BookID: this.state.BookID,\n        Title: this.state.Title,\n        Author: this.state.Author\n      }; //set the with credentials to true\n\n      axios.defaults.withCredentials = true; //make a post request with the user data\n\n      axios.post('http://localhost:3001/create', data).then(response => {\n        console.log(\"Status Code : \", response.status);\n\n        if (response.status === 200) {\n          this.setState({\n            redirect: true\n          });\n        }\n      }).catch(err => {\n        this.setState({\n          failcatch: true\n        });\n      });\n    };\n\n    this.state = {\n      BookID: \"\",\n      Title: \"\",\n      Author: \"\",\n      redirect: false,\n      failcreate: false,\n      Bookiderror: \"\"\n    };\n  }\n\n  componentWillMount() {\n    this.setState({\n      redirect: false\n    });\n  } //username change handler to update state variable with the text entered by the user\n\n\n  render() {\n    let createlogin = null;\n\n    if (!cookie.load('cookie')) {\n      createlogin = React.createElement(Redirect, {\n        to: \"/login\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 90\n        },\n        __self: this\n      });\n    }\n\n    let redirectcreate = null;\n\n    if (this.state.redirect) {\n      redirectcreate = React.createElement(Redirect, {\n        to: {\n          pathname: \"/home\"\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 94\n        },\n        __self: this\n      });\n    }\n\n    let faillabelcatch = null;\n\n    if (this.state.failcatch) {\n      faillabelcatch = React.createElement(\"label\", {\n        style: {\n          color: \"red\"\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 100\n        },\n        __self: this\n      }, \"Book Already Exists\");\n    }\n\n    return React.createElement(\"div\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 104\n      },\n      __self: this\n    }, createlogin, redirectcreate, React.createElement(\"br\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 107\n      },\n      __self: this\n    }), React.createElement(\"div\", {\n      class: \"container\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 108\n      },\n      __self: this\n    }, React.createElement(\"form\", {\n      onSubmit: this.handleSubmit,\n      action: \"http://127.0.0.1:3000/create\",\n      method: \"post\",\n      noValidate: true,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 109\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      style: {\n        width: '30%'\n      },\n      class: \"form-group\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 110\n      },\n      __self: this\n    }, React.createElement(\"input\", {\n      onChange: this.BookIDChangeHandler,\n      type: \"number\",\n      class: \"form-control\",\n      name: \"BookID\",\n      placeholder: \"Book ID\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 111\n      },\n      __self: this\n    })), React.createElement(\"div\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 113\n      },\n      __self: this\n    }, Bookiderror), React.createElement(\"br\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 114\n      },\n      __self: this\n    }), React.createElement(\"div\", {\n      style: {\n        width: '30%'\n      },\n      class: \"form-group\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 115\n      },\n      __self: this\n    }, React.createElement(\"input\", {\n      onChange: this.TitleChangeHandler,\n      type: \"text\",\n      class: \"form-control\",\n      name: \"Title\",\n      placeholder: \"Book Title\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 116\n      },\n      __self: this\n    })), React.createElement(\"br\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 118\n      },\n      __self: this\n    }), React.createElement(\"div\", {\n      style: {\n        width: '30%'\n      },\n      class: \"form-group\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 119\n      },\n      __self: this\n    }, React.createElement(\"input\", {\n      onChange: this.AuthorChangeHandler,\n      type: \"text\",\n      class: \"form-control\",\n      name: \"Author\",\n      placeholder: \"Book Author\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 120\n      },\n      __self: this\n    })), React.createElement(\"br\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 122\n      },\n      __self: this\n    }), React.createElement(\"div\", {\n      style: {\n        width: '30%'\n      },\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 123\n      },\n      __self: this\n    }, React.createElement(\"button\", {\n      onClick: this.createBook,\n      class: \"btn btn-success\",\n      type: \"submit\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 124\n      },\n      __self: this\n    }, \"Create\"))), faillabelcatch));\n  }\n\n}\n\nexport default Create;","map":{"version":3,"sources":["/Users/kirankumarbijjala/Downloads/CMPE 273/Snippets/React Demo/Frontend/src/components/Create/Create.js"],"names":["React","Component","axios","cookie","Redirect","Create","constructor","props","BookIDChangeHandler","e","setState","BookID","target","value","TitleChangeHandler","Title","AuthorChangeHandler","Author","validate","Bookiderror","state","Bookid","handleSubmit","preventDefault","isValid","console","log","createBook","headers","Headers","data","defaults","withCredentials","post","then","response","status","redirect","catch","err","failcatch","failcreate","componentWillMount","render","createlogin","load","redirectcreate","pathname","faillabelcatch","color","width"],"mappings":"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","sourcesContent":["import React, {Component} from 'react';\r\nimport axios from 'axios';\r\nimport cookie from 'react-cookies';\r\nimport {Redirect} from 'react-router';\r\n\r\nclass Create extends Component{\r\n    constructor(props){\r\n        super(props);\r\n        this.state = {\r\n            BookID : \"\",\r\n            Title : \"\",\r\n            Author : \"\",\r\n            redirect : false,\r\n            failcreate:false,\r\n            Bookiderror: \"\"\r\n        }\r\n    }  \r\n\r\ncomponentWillMount(){\r\n    this.setState({\r\n        redirect : false\r\n    })\r\n}\r\n//username change handler to update state variable with the text entered by the user\r\nBookIDChangeHandler = (e) => {\r\n    \r\n        this.setState({\r\n            BookID : e.target.value\r\n            })\r\n    \r\n}\r\n//password change handler to update state variable with the text entered by the user\r\nTitleChangeHandler = (e) => {\r\n    this.setState({\r\n        Title : e.target.value\r\n    })\r\n}\r\nAuthorChangeHandler = (e) => {\r\n    this.setState({\r\n        Author : e.target.value\r\n    })\r\n}\r\n\r\nvalidate = () =>{\r\n\r\n    let Bookiderror = \"\";\r\n    if(!this.state.Bookid){\r\n        Bookiderror = \"Book id cannot be blank\";\r\n    }\r\n    if(Bookiderror){\r\n        this.setState({Bookiderror});\r\n    }\r\n}\r\n\r\nhandleSubmit = (e) =>{\r\n    e.preventDefault();\r\n    const isValid = this.validate();\r\n    if(isValid){\r\n    console.log(this.state);\r\n    }\r\n}\r\n//submit Login handler to send a request to the node backend\r\ncreateBook = (e) => {\r\n    var headers = new Headers();\r\n    //prevent page from refresh\r\n    e.preventDefault();\r\n    const data = {\r\n        BookID : this.state.BookID,\r\n        Title : this.state.Title,\r\n        Author : this.state.Author\r\n        \r\n    }\r\n    //set the with credentials to true\r\n    axios.defaults.withCredentials = true;\r\n    //make a post request with the user data\r\n    axios.post('http://localhost:3001/create',data)\r\n        .then(response => {\r\n            console.log(\"Status Code : \",response.status);\r\n            if(response.status === 200){\r\n                this.setState({redirect :true});\r\n            }\r\n        }).catch(err=>{\r\n            this.setState({failcatch:true})\r\n        })\r\n}\r\n    render(){\r\n        let createlogin = null;\r\n        \r\n        if(!cookie.load('cookie')){\r\n            createlogin = <Redirect to= \"/login\"/>\r\n        }\r\n        let redirectcreate = null;\r\n        if (this.state.redirect) {\r\n            redirectcreate = <Redirect to = {{ pathname: \"/home\" }} />;\r\n            }\r\n\r\n        let faillabelcatch = null;\r\n        if(this.state.failcatch){\r\n            faillabelcatch=(\r\n            <label style = {{color:\"red\"}}>Book Already Exists</label>\r\n            )\r\n        }\r\n        return(\r\n            <div>\r\n                {createlogin}\r\n                {redirectcreate}\r\n                <br/>\r\n                <div class=\"container\">\r\n                    <form onSubmit = {this.handleSubmit} action=\"http://127.0.0.1:3000/create\" method=\"post\" noValidate>\r\n                        <div style={{width: '30%'}} class=\"form-group\">\r\n                            <input onChange = {this.BookIDChangeHandler} type=\"number\" class=\"form-control\" name=\"BookID\" placeholder=\"Book ID\"  />\r\n                        </div>\r\n                        <div>{Bookiderror}</div>\r\n                        <br/>\r\n                        <div style={{width: '30%'}} class=\"form-group\">\r\n                                <input onChange = {this.TitleChangeHandler} type=\"text\" class=\"form-control\" name=\"Title\" placeholder=\"Book Title\" />\r\n                        </div>\r\n                        <br/>\r\n                        <div style={{width: '30%'}} class=\"form-group\">\r\n                                <input onChange = {this.AuthorChangeHandler} type=\"text\" class=\"form-control\" name=\"Author\" placeholder=\"Book Author\" />\r\n                        </div>\r\n                        <br/>\r\n                        <div style={{width: '30%'}}>\r\n                    <button onClick = {this.createBook} class=\"btn btn-success\" type=\"submit\">Create</button>\r\n                        </div> \r\n                    </form>\r\n                    {faillabelcatch}\r\n                </div>\r\n            </div>\r\n        )\r\n    }\r\n}\r\n\r\nexport default Create;"]},"metadata":{},"sourceType":"module"}