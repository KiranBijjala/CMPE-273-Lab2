{"ast":null,"code":"var _jsxFileName = \"/Users/kirankumarbijjala/Documents/Redux Grubhub Final/Frontend/src/components/OwnerRestaurantMenu/OwnerSectionMenu.js\";\nimport React from 'react';\nimport '../../App.css';\nimport axios from 'axios';\nimport cookie from 'react-cookies';\nimport { Redirect } from 'react-router';\nimport { Link } from 'react-router-dom';\nimport { getSectionsMenu } from '../../actions';\nimport { deleteDish } from '../../actions';\nimport { connect } from 'react-redux';\nimport { Field, reduxForm } from 'redux-form';\n\nclass OwnerSectionMenu extends React.Component {\n  constructor(...args) {\n    super(...args);\n    this.State = {\n      menulist: '',\n      currentSection: '',\n      updateflag: false\n    };\n\n    this.setSessionStorage = e => {\n      e.preventDefault();\n      sessionStorage.setItem('menuid', e.target.getAttribute('id'));\n      this.setState({\n        updateflag: true\n      }); // window.location.hash = \"/updatemenu\";\n    };\n\n    this.deleteDish = e => {\n      e.preventDefault(); // alert(e.target.getAttribute('id'))\n      // let x = sessionStorage.getItem('selectedRestaurant')\n\n      let data = {\n        id: e.target.getAttribute('id')\n      }; // alert(data)\n\n      axios.defaults.withCredentials = true;\n      this.props.deleteDish(data, res => {\n        if (res.status === 200) {\n          console.log('Inside response', res.data[0]);\n          this.setState({\n            authFlag: true\n          }); // sessionStorage.setItem('email', res.data[0].email)\n          // sessionStorage.setItem('username', res.data[0].username)\n          // sessionStorage.setItem('cookie', res.data[0].type) // cookies.save('cookie', res.data[0].type, {maxAge: 900000, httpOnly: false, path: '/'}); // cookies.save('userid', res.data[0]._id, {maxAge: 900000, httpOnly: false, path: '/'}); // cookies.save('username', res.data[0].username, {maxAge: 900000, httpOnly: false, path: '/'});\n          // this.props.history.push('/home')\n\n          window.location.reload();\n        } else {\n          alert('Please enter valid credentials');\n        }\n      });\n    };\n  }\n\n  componentWillMount() {\n    this.setState({\n      updateflag: false\n    });\n    axios.defaults.withCredentials = true;\n    this.props.getSectionsMenu({\n      params: {\n        restaurant_name: JSON.parse(sessionStorage.getItem('ownerdata')).restaurant_name,\n        section: this.props.sections\n      }\n    }, response => {\n      let temp = null; // console.log(\"next is temp\");\n\n      this.setState({\n        menulist: this.props.user\n      }, () => {\n        // temp = Object.keys(this.state.menulist).map(menu => {\n        // console.log(this.state.menulist[menu])\n        // })\n        let temp = this.props.sections; // alert('temp:', temp)\n        // console.log(\"Look here\", temp)\n        // sessionStorage.setItem({ temp  this.state.menulist})\n\n        this.setState({\n          currentSection: this.state.menulist\n        });\n        sessionStorage.setItem(temp, JSON.stringify(this.state.menulist)); // console.log(\"Look here\",sessionStorage.getItem('Lunch'));\n      }); // console.log(this.state.menulist)\n\n      sessionStorage.setItem('sections', this.state.sections);\n    });\n  }\n\n  // updatecart = e => {\n  //   let dish = e.target.id\n  //   console.log(dish)\n  //   let cart = sessionStorage.getItem('checkout')\n  //   console.log(cart)\n  //   let operation = e.target.getAttribute('name')\n  //   console.log('operation',operation)\n  //   let price = e.target.getAttribute('price')\n  //   console.log('price',price)\n  //   // console.log('cart', cart);\n  //   // cart = Object.assign(cart, { dish: 1 })\n  //   // sessionStorage.setItem('checkout', cart)\n  //   // let data = {}\n  //   // alert(e.target.id); (cart.hasOwnProperty(dish))\n  //   if (cart === 'new') {\n  //     console.log('inside new', operation)\n  //     if (operation === 'plus') {\n  //       console.log('initial plus to cart')\n  //       cart = {}\n  //       cart[dish] = [1, price]\n  //       sessionStorage.setItem('checkout', JSON.stringify(cart))\n  //       console.log(sessionStorage.getItem('checkout'))\n  //     }\n  //   } else {\n  //     cart = JSON.parse(cart)\n  //     console.log('inside else', cart.hasOwnProperty(dish), operation)\n  //     if (!cart.hasOwnProperty(dish) && operation === \"plus\") {\n  //       console.log('initial plus to cart')\n  //       cart[dish] = [1, price]\n  //       sessionStorage.setItem('checkout', JSON.stringify(cart))\n  //       console.log(sessionStorage.getItem('checkout'))\n  //     } else if(cart.hasOwnProperty(dish) && operation === \"plus\") {\n  //       console.log('in cart and plus nth'+ cart[dish][0]);\n  //       cart[dish][0]=cart[dish][0]+1;\n  //       sessionStorage.setItem('checkout', JSON.stringify(cart))\n  //       console.log(sessionStorage.getItem('checkout'))\n  //     } else if (cart.hasOwnProperty(dish) && operation === \"minus\") {\n  //       console.log('in cart and minus'+ cart[dish][0])\n  //       if(cart[dish][0]>=1){\n  //         cart[dish][0] = (cart[dish][0])-1;\n  //       }\n  //       sessionStorage.setItem('checkout', JSON.stringify(cart))\n  //       console.log(sessionStorage.getItem('checkout'))\n  //     }\n  //   }\n  //   window.location.reload()\n  // }\n  render() {\n    // console.log('Display: ', this.props.sections)\n    let redirectFalg = null;\n\n    if (this.state.updateflag) {\n      redirectFalg = React.createElement(Redirect, {\n        to: \"/updatemenu\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 145\n        },\n        __self: this\n      });\n    }\n\n    let sectionMenu = null;\n    let temp = JSON.parse(sessionStorage.getItem(this.props.sections)); // console.log('temp', temp)\n\n    if (typeof temp !== 'undefined' && temp != null) {\n      sectionMenu = Object.keys(temp).map(menu => {\n        // console.log(JSON.parse(temp[menu]))\n        return React.createElement(\"a\", {\n          href: \"#\",\n          class: \"list-group-item list-group-item-action\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 154\n          },\n          __self: this\n        }, redirectFalg, React.createElement(\"div\", {\n          className: \"row\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 156\n          },\n          __self: this\n        }, React.createElement(\"div\", {\n          className: \"col-sm-7\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 157\n          },\n          __self: this\n        }, React.createElement(\"h4\", {\n          style: {\n            color: 'black'\n          },\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 158\n          },\n          __self: this\n        }, temp[menu].dish_name), React.createElement(\"div\", {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 159\n          },\n          __self: this\n        }, temp[menu].description)), React.createElement(\"div\", {\n          className: \"col-sm-3\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 161\n          },\n          __self: this\n        }, React.createElement(\"label\", {\n          style: {\n            color: 'black'\n          },\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 162\n          },\n          __self: this\n        }, \"Price\"), React.createElement(\"br\", {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 163\n          },\n          __self: this\n        }), React.createElement(\"div\", {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 164\n          },\n          __self: this\n        }, \"$\", temp[menu].price), React.createElement(\"br\", {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 165\n          },\n          __self: this\n        })), React.createElement(\"div\", {\n          className: \"col-sm-1\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 167\n          },\n          __self: this\n        }, React.createElement(\"div\", {\n          id: temp[menu].dish_name,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 168\n          },\n          __self: this\n        })), React.createElement(\"div\", {\n          className: \"col-sm-1\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 170\n          },\n          __self: this\n        }, React.createElement(\"button\", {\n          id: temp[menu].id,\n          className: \"btn btn-danger\",\n          onClick: this.deleteDish,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 171\n          },\n          __self: this\n        }, \"Delete\"), React.createElement(\"br\", {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 178\n          },\n          __self: this\n        }), React.createElement(\"br\", {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 179\n          },\n          __self: this\n        }), React.createElement(\"a\", {\n          onClick: this.setSessionStorage,\n          href: \"/updatemenu\",\n          id: temp[menu].id,\n          style: {\n            float: 'right'\n          },\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 181\n          },\n          __self: this\n        }, \"Edit\"))));\n      });\n    } else {\n      ;\n      React.createElement(\"a\", {\n        href: \"#\",\n        class: \"list-group-item list-group-item-action\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 234\n        },\n        __self: this\n      }, React.createElement(\"div\", {\n        className: \"row\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 235\n        },\n        __self: this\n      }, \"No records found\"));\n    }\n\n    return React.createElement(\"div\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 239\n      },\n      __self: this\n    }, sectionMenu);\n  }\n\n} // console.log(\"Inside search: \",this.props);\n\n\nfunction mapStateToProps(state) {\n  return {\n    user: state.user\n  };\n}\n\nexport default connect(mapStateToProps, {\n  getSectionsMenu,\n  deleteDish\n})(reduxForm({\n  form: 'streamSelectedsMenu' // validate: validate\n\n})(OwnerSectionMenu));","map":{"version":3,"sources":["/Users/kirankumarbijjala/Documents/Redux Grubhub Final/Frontend/src/components/OwnerRestaurantMenu/OwnerSectionMenu.js"],"names":["React","axios","cookie","Redirect","Link","getSectionsMenu","deleteDish","connect","Field","reduxForm","OwnerSectionMenu","Component","State","menulist","currentSection","updateflag","setSessionStorage","e","preventDefault","sessionStorage","setItem","target","getAttribute","setState","data","id","defaults","withCredentials","props","res","status","console","log","authFlag","window","location","reload","alert","componentWillMount","params","restaurant_name","JSON","parse","getItem","section","sections","response","temp","user","state","stringify","render","redirectFalg","sectionMenu","Object","keys","map","menu","color","dish_name","description","price","float","mapStateToProps","form"],"mappings":";AAAA,OAAOA,KAAP,MAAkB,OAAlB;AACA,OAAO,eAAP;AACA,OAAOC,KAAP,MAAkB,OAAlB;AACA,OAAOC,MAAP,MAAmB,eAAnB;AACA,SAASC,QAAT,QAAyB,cAAzB;AACA,SAASC,IAAT,QAAqB,kBAArB;AACA,SAASC,eAAT,QAAgC,eAAhC;AACA,SAASC,UAAT,QAA2B,eAA3B;AACA,SAASC,OAAT,QAAwB,aAAxB;AACA,SAASC,KAAT,EAAgBC,SAAhB,QAAiC,YAAjC;;AAEA,MAAMC,gBAAN,SAA+BV,KAAK,CAACW,SAArC,CAA+C;AAAA;AAAA;AAAA,SAC7CC,KAD6C,GACrC;AACNC,MAAAA,QAAQ,EAAE,EADJ;AAENC,MAAAA,cAAc,EAAE,EAFV;AAGNC,MAAAA,UAAU,EAAE;AAHN,KADqC;;AAAA,SA4C7CC,iBA5C6C,GA4CxBC,CAAD,IAAO;AACzBA,MAAAA,CAAC,CAACC,cAAF;AACAC,MAAAA,cAAc,CAACC,OAAf,CAAuB,QAAvB,EAAiCH,CAAC,CAACI,MAAF,CAASC,YAAT,CAAsB,IAAtB,CAAjC;AACA,WAAKC,QAAL,CAAc;AAACR,QAAAA,UAAU,EAAE;AAAb,OAAd,EAHyB,CAIzB;AACD,KAjD4C;;AAAA,SAmD7CT,UAnD6C,GAmDhCW,CAAC,IAAI;AAChBA,MAAAA,CAAC,CAACC,cAAF,GADgB,CAEhB;AACA;;AACA,UAAIM,IAAI,GAAG;AACTC,QAAAA,EAAE,EAAER,CAAC,CAACI,MAAF,CAASC,YAAT,CAAsB,IAAtB;AADK,OAAX,CAJgB,CAQhB;;AACArB,MAAAA,KAAK,CAACyB,QAAN,CAAeC,eAAf,GAAiC,IAAjC;AAEA,WAAKC,KAAL,CAAWtB,UAAX,CAAsBkB,IAAtB,EAA4BK,GAAG,IAAI;AACjC,YAAIA,GAAG,CAACC,MAAJ,KAAe,GAAnB,EAAwB;AACtBC,UAAAA,OAAO,CAACC,GAAR,CAAY,iBAAZ,EAA+BH,GAAG,CAACL,IAAJ,CAAS,CAAT,CAA/B;AACA,eAAKD,QAAL,CAAc;AACZU,YAAAA,QAAQ,EAAE;AADE,WAAd,EAFsB,CAKtB;AACA;AACA;AACA;;AACAC,UAAAA,MAAM,CAACC,QAAP,CAAgBC,MAAhB;AACD,SAVD,MAUO;AACLC,UAAAA,KAAK,CAAC,gCAAD,CAAL;AACD;AACF,OAdD;AAeD,KA7E4C;AAAA;;AAM7CC,EAAAA,kBAAkB,GAAI;AACpB,SAAKf,QAAL,CAAc;AAACR,MAAAA,UAAU,EAAE;AAAb,KAAd;AACAd,IAAAA,KAAK,CAACyB,QAAN,CAAeC,eAAf,GAAiC,IAAjC;AACA,SAAKC,KAAL,CAAWvB,eAAX,CACE;AACEkC,MAAAA,MAAM,EAAE;AACNC,QAAAA,eAAe,EAAEC,IAAI,CAACC,KAAL,CAAWvB,cAAc,CAACwB,OAAf,CAAuB,WAAvB,CAAX,EACdH,eAFG;AAGNI,QAAAA,OAAO,EAAE,KAAKhB,KAAL,CAAWiB;AAHd;AADV,KADF,EAQEC,QAAQ,IAAI;AACV,UAAIC,IAAI,GAAG,IAAX,CADU,CAEV;;AACA,WAAKxB,QAAL,CACE;AACEV,QAAAA,QAAQ,EAAE,KAAKe,KAAL,CAAWoB;AADvB,OADF,EAIE,MAAM;AACJ;AACA;AACA;AACA,YAAID,IAAI,GAAG,KAAKnB,KAAL,CAAWiB,QAAtB,CAJI,CAKJ;AACA;AAEA;;AACA,aAAKtB,QAAL,CAAc;AAAET,UAAAA,cAAc,EAAE,KAAKmC,KAAL,CAAWpC;AAA7B,SAAd;AACAM,QAAAA,cAAc,CAACC,OAAf,CAAuB2B,IAAvB,EAA6BN,IAAI,CAACS,SAAL,CAAe,KAAKD,KAAL,CAAWpC,QAA1B,CAA7B,EAVI,CAWJ;AACD,OAhBH,EAHU,CAqBV;;AACAM,MAAAA,cAAc,CAACC,OAAf,CAAuB,UAAvB,EAAmC,KAAK6B,KAAL,CAAWJ,QAA9C;AACD,KA/BH;AAiCD;;AAqCD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AAEAM,EAAAA,MAAM,GAAI;AACR;AACA,QAAIC,YAAY,GAAC,IAAjB;;AACA,QAAG,KAAKH,KAAL,CAAWlC,UAAd,EAAyB;AACvBqC,MAAAA,YAAY,GAAG,oBAAC,QAAD;AAAU,QAAA,EAAE,EAAC,aAAb;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,QAAf;AACD;;AACD,QAAIC,WAAW,GAAG,IAAlB;AACA,QAAIN,IAAI,GAAGN,IAAI,CAACC,KAAL,CAAWvB,cAAc,CAACwB,OAAf,CAAuB,KAAKf,KAAL,CAAWiB,QAAlC,CAAX,CAAX,CAPQ,CAQR;;AACA,QAAI,OAAOE,IAAP,KAAgB,WAAhB,IAA+BA,IAAI,IAAI,IAA3C,EAAiD;AAC/CM,MAAAA,WAAW,GAAGC,MAAM,CAACC,IAAP,CAAYR,IAAZ,EAAkBS,GAAlB,CAAsBC,IAAI,IAAI;AAC1C;AACA,eACE;AAAG,UAAA,IAAI,EAAC,GAAR;AAAY,UAAA,KAAK,EAAC,wCAAlB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,WACGL,YADH,EAEE;AAAK,UAAA,SAAS,EAAC,KAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,WACE;AAAK,UAAA,SAAS,EAAC,UAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,WACE;AAAI,UAAA,KAAK,EAAE;AAAEM,YAAAA,KAAK,EAAE;AAAT,WAAX;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,WAAgCX,IAAI,CAACU,IAAD,CAAJ,CAAWE,SAA3C,CADF,EAEE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,WAAMZ,IAAI,CAACU,IAAD,CAAJ,CAAWG,WAAjB,CAFF,CADF,EAKE;AAAK,UAAA,SAAS,EAAC,UAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,WACE;AAAO,UAAA,KAAK,EAAE;AAAEF,YAAAA,KAAK,EAAE;AAAT,WAAd;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,mBADF,EAEE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,UAFF,EAGE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,gBAAOX,IAAI,CAACU,IAAD,CAAJ,CAAWI,KAAlB,CAHF,EAIE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,UAJF,CALF,EAWE;AAAK,UAAA,SAAS,EAAC,UAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,WACE;AAAK,UAAA,EAAE,EAAEd,IAAI,CAACU,IAAD,CAAJ,CAAWE,SAApB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,UADF,CAXF,EAcE;AAAK,UAAA,SAAS,EAAC,UAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,WACA;AACI,UAAA,EAAE,EAAEZ,IAAI,CAACU,IAAD,CAAJ,CAAWhC,EADnB;AAEI,UAAA,SAAS,EAAC,gBAFd;AAGI,UAAA,OAAO,EAAE,KAAKnB,UAHlB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,oBADA,EAQE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,UARF,EASE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,UATF,EAWE;AACC,UAAA,OAAO,EAAE,KAAKU,iBADf;AAEE,UAAA,IAAI,EAAG,aAFT;AAGE,UAAA,EAAE,EAAE+B,IAAI,CAACU,IAAD,CAAJ,CAAWhC,EAHjB;AAIE,UAAA,KAAK,EAAE;AAAEqC,YAAAA,KAAK,EAAE;AAAT,WAJT;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBAXF,CAdF,CAFF,CADF;AA+ED,OAjFa,CAAd;AAkFD,KAnFD,MAmFO;AACL;AAAC;AAAG,QAAA,IAAI,EAAC,GAAR;AAAY,QAAA,KAAK,EAAC,wCAAlB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SACC;AAAK,QAAA,SAAS,EAAC,KAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,4BADD;AAGF;;AAED,WAAO;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OAAMT,WAAN,CAAP;AACD;;AApO4C,C,CAsO/C;;;AAEA,SAASU,eAAT,CAA0Bd,KAA1B,EAAiC;AAC/B,SAAO;AACLD,IAAAA,IAAI,EAAEC,KAAK,CAACD;AADP,GAAP;AAGD;;AAED,eAAezC,OAAO,CACpBwD,eADoB,EAEpB;AAAE1D,EAAAA,eAAF;AAAmBC,EAAAA;AAAnB,CAFoB,CAAP,CAIbG,SAAS,CAAC;AACRuD,EAAAA,IAAI,EAAE,qBADE,CAER;;AAFQ,CAAD,CAAT,CAGGtD,gBAHH,CAJa,CAAf","sourcesContent":["import React from 'react'\nimport '../../App.css'\nimport axios from 'axios'\nimport cookie from 'react-cookies'\nimport { Redirect } from 'react-router'\nimport { Link } from 'react-router-dom'\nimport { getSectionsMenu } from '../../actions'\nimport { deleteDish } from '../../actions'\nimport { connect } from 'react-redux'\nimport { Field, reduxForm } from 'redux-form'\n\nclass OwnerSectionMenu extends React.Component {\n  State = {\n    menulist: '',\n    currentSection: '',\n    updateflag: false\n  }\n  componentWillMount () {\n    this.setState({updateflag: false})\n    axios.defaults.withCredentials = true\n    this.props.getSectionsMenu(\n      {\n        params: {\n          restaurant_name: JSON.parse(sessionStorage.getItem('ownerdata'))\n            .restaurant_name,\n          section: this.props.sections\n        }\n      },\n      response => {\n        let temp = null\n        // console.log(\"next is temp\");\n        this.setState(\n          {\n            menulist: this.props.user\n          },\n          () => {\n            // temp = Object.keys(this.state.menulist).map(menu => {\n            // console.log(this.state.menulist[menu])\n            // })\n            let temp = this.props.sections\n            // alert('temp:', temp)\n            // console.log(\"Look here\", temp)\n\n            // sessionStorage.setItem({ temp  this.state.menulist})\n            this.setState({ currentSection: this.state.menulist })\n            sessionStorage.setItem(temp, JSON.stringify(this.state.menulist))\n            // console.log(\"Look here\",sessionStorage.getItem('Lunch'));\n          }\n        )\n        // console.log(this.state.menulist)\n        sessionStorage.setItem('sections', this.state.sections)\n      }\n    )\n  }\n\n  setSessionStorage = (e) => {\n    e.preventDefault()\n    sessionStorage.setItem('menuid', e.target.getAttribute('id'))\n    this.setState({updateflag: true})\n    // window.location.hash = \"/updatemenu\";\n  }\n\n  deleteDish = e => {\n    e.preventDefault()\n    // alert(e.target.getAttribute('id'))\n    // let x = sessionStorage.getItem('selectedRestaurant')\n    let data = {\n      id: e.target.getAttribute('id')\n      // order_id: e.target.id\n    }\n    // alert(data)\n    axios.defaults.withCredentials = true\n\n    this.props.deleteDish(data, res => {\n      if (res.status === 200) {\n        console.log('Inside response', res.data[0])\n        this.setState({\n          authFlag: true\n        })\n        // sessionStorage.setItem('email', res.data[0].email)\n        // sessionStorage.setItem('username', res.data[0].username)\n        // sessionStorage.setItem('cookie', res.data[0].type) // cookies.save('cookie', res.data[0].type, {maxAge: 900000, httpOnly: false, path: '/'}); // cookies.save('userid', res.data[0]._id, {maxAge: 900000, httpOnly: false, path: '/'}); // cookies.save('username', res.data[0].username, {maxAge: 900000, httpOnly: false, path: '/'});\n        // this.props.history.push('/home')\n        window.location.reload()\n      } else {\n        alert('Please enter valid credentials')\n      }\n    })\n  }\n\n  // updatecart = e => {\n  //   let dish = e.target.id\n  //   console.log(dish)\n  //   let cart = sessionStorage.getItem('checkout')\n  //   console.log(cart)\n  //   let operation = e.target.getAttribute('name')\n  //   console.log('operation',operation)\n  //   let price = e.target.getAttribute('price')\n  //   console.log('price',price)\n  //   // console.log('cart', cart);\n  //   // cart = Object.assign(cart, { dish: 1 })\n  //   // sessionStorage.setItem('checkout', cart)\n\n  //   // let data = {}\n  //   // alert(e.target.id); (cart.hasOwnProperty(dish))\n  //   if (cart === 'new') {\n  //     console.log('inside new', operation)\n  //     if (operation === 'plus') {\n  //       console.log('initial plus to cart')\n  //       cart = {}\n  //       cart[dish] = [1, price]\n  //       sessionStorage.setItem('checkout', JSON.stringify(cart))\n  //       console.log(sessionStorage.getItem('checkout'))\n  //     }\n  //   } else {\n  //     cart = JSON.parse(cart)\n  //     console.log('inside else', cart.hasOwnProperty(dish), operation)\n  //     if (!cart.hasOwnProperty(dish) && operation === \"plus\") {\n  //       console.log('initial plus to cart')\n  //       cart[dish] = [1, price]\n  //       sessionStorage.setItem('checkout', JSON.stringify(cart))\n  //       console.log(sessionStorage.getItem('checkout'))\n  //     } else if(cart.hasOwnProperty(dish) && operation === \"plus\") {\n  //       console.log('in cart and plus nth'+ cart[dish][0]);\n  //       cart[dish][0]=cart[dish][0]+1;\n  //       sessionStorage.setItem('checkout', JSON.stringify(cart))\n  //       console.log(sessionStorage.getItem('checkout'))\n  //     } else if (cart.hasOwnProperty(dish) && operation === \"minus\") {\n  //       console.log('in cart and minus'+ cart[dish][0])\n  //       if(cart[dish][0]>=1){\n  //         cart[dish][0] = (cart[dish][0])-1;\n  //       }\n\n  //       sessionStorage.setItem('checkout', JSON.stringify(cart))\n  //       console.log(sessionStorage.getItem('checkout'))\n  //     }\n  //   }\n  //   window.location.reload()\n  // }\n\n  render () {\n    // console.log('Display: ', this.props.sections)\n    let redirectFalg=null;\n    if(this.state.updateflag){\n      redirectFalg = <Redirect to='/updatemenu'/>\n    }\n    let sectionMenu = null\n    let temp = JSON.parse(sessionStorage.getItem(this.props.sections))\n    // console.log('temp', temp)\n    if (typeof temp !== 'undefined' && temp != null) {\n      sectionMenu = Object.keys(temp).map(menu => {\n        // console.log(JSON.parse(temp[menu]))\n        return (\n          <a href='#' class='list-group-item list-group-item-action'>\n            {redirectFalg}\n            <div className='row'>\n              <div className='col-sm-7'>\n                <h4 style={{ color: 'black' }}>{temp[menu].dish_name}</h4>\n                <div>{temp[menu].description}</div>\n              </div>\n              <div className='col-sm-3'>\n                <label style={{ color: 'black' }}>Price</label>\n                <br />\n                <div>${temp[menu].price}</div>\n                <br />\n              </div>\n              <div className='col-sm-1'>\n                <div id={temp[menu].dish_name} />\n              </div>\n              <div className='col-sm-1'>\n              <button\n                  id={temp[menu].id}\n                  className='btn btn-danger'\n                  onClick={this.deleteDish}\n                >\n                  Delete\n                </button>\n                <br />\n                <br />\n                \n                <a\n                 onClick={this.setSessionStorage}\n                  href = \"/updatemenu\"\n                  id={temp[menu].id} \n                  style={{ float: 'right' }}\n                 \n                >\n                  Edit\n                </a>\n                {/* <button\n                  id={temp[menu].dish_name}\n                  price={temp[menu].price}\n                  name='plus'\n                  operation = 'plus'\n                  type='button'\n                  class='btn btn-default'\n                  aria-label='Right Align'\n                  onClick={this.updatecart}\n                >\n                  <span\n                    name='plus'\n                    operation = 'plus'\n                    id={temp[menu].dish_name}\n                    price={temp[menu].price}\n                    class='glyphicon glyphicon-plus-sign'\n                    aria-hidden='true'\n                  />\n                </button>\n                <button\n                  id={temp[menu].dish_name}\n                  price={temp[menu].price}\n                  name='minus'\n                  operation = 'minus'\n                  type='button'\n                  class='btn btn-default'\n                  aria-label='Right Align'\n                  onClick={this.updatecart}\n                >\n                  <span\n                    id={temp[menu].dish_name}\n                    price={temp[menu].price}\n                    name='minus'\n                    operation = 'minus'\n                    class='glyphicon glyphicon-minus-sign'\n                    aria-hidden='true'\n                  />\n                </button> */}\n              </div>\n            </div>\n          </a>\n        )\n      })\n    } else {\n      ;<a href='#' class='list-group-item list-group-item-action'>\n        <div className='row'>No records found</div>\n      </a>\n    }\n\n    return <div>{sectionMenu}</div>\n  }\n}\n// console.log(\"Inside search: \",this.props);\n\nfunction mapStateToProps (state) {\n  return {\n    user: state.user\n  }\n}\n\nexport default connect(\n  mapStateToProps,\n  { getSectionsMenu, deleteDish }\n)(\n  reduxForm({\n    form: 'streamSelectedsMenu'\n    // validate: validate\n  })(OwnerSectionMenu)\n)\n"]},"metadata":{},"sourceType":"module"}