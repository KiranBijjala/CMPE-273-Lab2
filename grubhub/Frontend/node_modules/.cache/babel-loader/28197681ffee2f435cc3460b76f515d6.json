{"ast":null,"code":"var _jsxFileName = \"/Users/kirankumarbijjala/Downloads/CMPE 273/Lab1/grubhub/Frontend/src/components/Letseat.js\";\nimport React, { Component } from 'react';\nimport '../../App.css';\nimport axios from 'axios';\nimport cookie from 'react-cookies';\nimport { Redirect } from 'react-router';\n\nclass Letseat extends Component {\n  constructor() {\n    super();\n    this.state = {\n      books: []\n    };\n  } //get the books data from backend  \n\n\n  componentDidMount() {\n    axios.get('http://localhost:3001/home').then(response => {\n      //update the state with the response data\n      this.setState({\n        books: this.state.books.concat(response.data)\n      });\n    });\n  }\n\n  render() {\n    //iterate over books to create a table row\n    let details = this.state.books.map(book => {\n      return React.createElement(\"tr\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 29\n        },\n        __self: this\n      }, React.createElement(\"td\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 30\n        },\n        __self: this\n      }, book.BookID), React.createElement(\"td\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 31\n        },\n        __self: this\n      }, book.Title), React.createElement(\"td\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 32\n        },\n        __self: this\n      }, book.Author));\n    }); //if not logged in go to login page\n\n    let redirectVar = null;\n\n    if (!cookie.load('cookie')) {\n      redirectVar = React.createElement(Redirect, {\n        to: \"/login\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 39\n        },\n        __self: this\n      });\n    }\n\n    return React.createElement(\"div\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 42\n      },\n      __self: this\n    }, redirectVar, React.createElement(\"div\", {\n      class: \"container\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 44\n      },\n      __self: this\n    }, React.createElement(\"h2\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 45\n      },\n      __self: this\n    }, \"List of All Books\"), React.createElement(\"table\", {\n      class: \"table\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 46\n      },\n      __self: this\n    }, React.createElement(\"thead\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 47\n      },\n      __self: this\n    }, React.createElement(\"tr\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 48\n      },\n      __self: this\n    }, React.createElement(\"th\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 49\n      },\n      __self: this\n    }, \"Book ID\"), React.createElement(\"th\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 50\n      },\n      __self: this\n    }, \"Title\"), React.createElement(\"th\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 51\n      },\n      __self: this\n    }, \"Author\"))), React.createElement(\"tbody\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 54\n      },\n      __self: this\n    }, details))));\n  }\n\n} //export Home Component\n\n\nexport default Letseat;","map":{"version":3,"sources":["/Users/kirankumarbijjala/Downloads/CMPE 273/Lab1/grubhub/Frontend/src/components/Letseat.js"],"names":["React","Component","axios","cookie","Redirect","Letseat","constructor","state","books","componentDidMount","get","then","response","setState","concat","data","render","details","map","book","BookID","Title","Author","redirectVar","load"],"mappings":";AAAA,OAAOA,KAAP,IAAeC,SAAf,QAA+B,OAA/B;AACA,OAAO,eAAP;AACA,OAAOC,KAAP,MAAkB,OAAlB;AACA,OAAOC,MAAP,MAAmB,eAAnB;AACA,SAAQC,QAAR,QAAuB,cAAvB;;AAEA,MAAMC,OAAN,SAAsBJ,SAAtB,CAAgC;AAC5BK,EAAAA,WAAW,GAAE;AACT;AACA,SAAKC,KAAL,GAAa;AACTC,MAAAA,KAAK,EAAG;AADC,KAAb;AAGH,GAN2B,CAO5B;;;AACAC,EAAAA,iBAAiB,GAAE;AACfP,IAAAA,KAAK,CAACQ,GAAN,CAAU,4BAAV,EACSC,IADT,CACeC,QAAD,IAAc;AACpB;AACA,WAAKC,QAAL,CAAc;AACVL,QAAAA,KAAK,EAAG,KAAKD,KAAL,CAAWC,KAAX,CAAiBM,MAAjB,CAAwBF,QAAQ,CAACG,IAAjC;AADE,OAAd;AAGH,KANL;AAOH;;AAEDC,EAAAA,MAAM,GAAE;AACJ;AACA,QAAIC,OAAO,GAAG,KAAKV,KAAL,CAAWC,KAAX,CAAiBU,GAAjB,CAAqBC,IAAI,IAAI;AACvC,aACI;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SACI;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SAAKA,IAAI,CAACC,MAAV,CADJ,EAEI;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SAAKD,IAAI,CAACE,KAAV,CAFJ,EAGI;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SAAKF,IAAI,CAACG,MAAV,CAHJ,CADJ;AAOH,KARa,CAAd,CAFI,CAWJ;;AACA,QAAIC,WAAW,GAAG,IAAlB;;AACA,QAAG,CAACpB,MAAM,CAACqB,IAAP,CAAY,QAAZ,CAAJ,EAA0B;AACtBD,MAAAA,WAAW,GAAG,oBAAC,QAAD;AAAU,QAAA,EAAE,EAAE,QAAd;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,QAAd;AACH;;AACD,WACI;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OACKA,WADL,EAEI;AAAK,MAAA,KAAK,EAAC,WAAX;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OACI;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,2BADJ,EAEQ;AAAO,MAAA,KAAK,EAAC,OAAb;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OACI;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OACI;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OACI;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,iBADJ,EAEI;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,eAFJ,EAGI;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,gBAHJ,CADJ,CADJ,EAQI;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OAEKN,OAFL,CARJ,CAFR,CAFJ,CADJ;AAqBH;;AAvD2B,C,CAyDhC;;;AACA,eAAeZ,OAAf","sourcesContent":["import React, {Component} from 'react';\nimport '../../App.css';\nimport axios from 'axios';\nimport cookie from 'react-cookies';\nimport {Redirect} from 'react-router';\n\nclass Letseat extends Component {\n    constructor(){\n        super();\n        this.state = {  \n            books : []\n        }\n    }  \n    //get the books data from backend  \n    componentDidMount(){\n        axios.get('http://localhost:3001/home')\n                .then((response) => {\n                //update the state with the response data\n                this.setState({\n                    books : this.state.books.concat(response.data) \n                });\n            });\n    }\n\n    render(){\n        //iterate over books to create a table row\n        let details = this.state.books.map(book => {\n            return(\n                <tr>\n                    <td>{book.BookID}</td>\n                    <td>{book.Title}</td>\n                    <td>{book.Author}</td>\n                </tr>\n            )\n        })\n        //if not logged in go to login page\n        let redirectVar = null;\n        if(!cookie.load('cookie')){\n            redirectVar = <Redirect to= \"/login\"/>\n        }\n        return(\n            <div>\n                {redirectVar}\n                <div class=\"container\">\n                    <h2>List of All Books</h2>\n                        <table class=\"table\">\n                            <thead>\n                                <tr>\n                                    <th>Book ID</th>\n                                    <th>Title</th>\n                                    <th>Author</th>\n                                </tr>\n                            </thead>\n                            <tbody>\n                                {/*Display the Tbale row based on data recieved*/}\n                                {details}\n                            </tbody>\n                        </table>\n                </div> \n            </div> \n        )\n    }\n}\n//export Home Component\nexport default Letseat;"]},"metadata":{},"sourceType":"module"}