{"ast":null,"code":"var _jsxFileName = \"/Users/kirankumarbijjala/Documents/Lab2/grubhub/Frontend/src/components/Ownerlogin.js\";\nimport React, { Component } from 'react';\nimport '../App.css';\nimport axios from 'axios';\nimport cookie from 'react-cookies';\nimport { Redirect } from 'react-router';\nimport { Link } from 'react-router-dom';\nconst ROOT_URL = \"http://localhost:3001\"; //Define a Login Component\n\nclass Ownerlogin extends Component {\n  //call the constructor method\n  constructor(props) {\n    //Call the constrictor of Super class i.e The Component\n    super(props); //maintain the state required for this component\n\n    this.inputChangeHandler = e => {\n      this.setState({\n        [e.target.name]: e.target.value\n      });\n    };\n\n    this.submitLogin = e => {\n      var headers = new Headers(); //prevent page from refresh\n\n      e.preventDefault();\n      const data = {\n        email: this.state.email,\n        password: this.state.password\n      }; //set the with credentials to true\n\n      axios.defaults.withCredentials = true; //make a post request with the user data\n\n      axios.post(\"\".concat(ROOT_URL, \"/ownerlogin\"), data).then(response => {\n        console.log(\"Status Code : \", response.status);\n\n        if (response.status === 200) {\n          // <Redirect to=\"/Letseat\"> </Redirect>\n          this.setState({\n            authFlag: true\n          });\n          sessionStorage.setItem(\"JWT\", response.data.token);\n          sessionStorage.setItem('email', data.email);\n          sessionStorage.setItem('ownerdata', response.data.ownerdata);\n          alert(\"Owner Logged in succesfully\");\n        }\n      }).catch(err => {\n        this.setState({\n          failcatch: true\n        });\n      });\n    };\n\n    this.state = {\n      email: \"\",\n      password: \"\",\n      authFlag: false,\n      failuser: false,\n      failcatch: false\n    };\n  } //Call the Will Mount to set the auth Flag to false\n\n\n  componentWillMount() {\n    this.setState({\n      authFlag: false\n    });\n  } //username change handler to update state variable with the text entered by the user\n\n\n  render() {\n    //redirect based on successful login\n    let redirectVar = null;\n\n    if (this.state.authFlag) {\n      redirectVar = React.createElement(Redirect, {\n        to: \"/menu\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 74\n        },\n        __self: this\n      });\n    }\n\n    let faillabelcatch = null;\n\n    if (this.state.failcatch) {\n      faillabelcatch = React.createElement(\"label\", {\n        style: {\n          color: \"red\"\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 79\n        },\n        __self: this\n      }, \"Please check username and password\");\n    }\n\n    return React.createElement(\"div\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 84\n      },\n      __self: this\n    }, redirectVar, faillabelcatch, React.createElement(\"div\", {\n      class: \"container\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 87\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      class: \"login-form\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 89\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      class: \"main-div\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 90\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      class: \"panel\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 91\n      },\n      __self: this\n    }, React.createElement(\"h2\", {\n      style: {\n        fontWeight: \"bold\",\n        color: \"black\"\n      },\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 92\n      },\n      __self: this\n    }, React.createElement(\"span\", {\n      style: {\n        color: \"red\"\n      },\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 92\n      },\n      __self: this\n    }, \"GRUBHUB\"), \" FOR RESTAURANTS\")), React.createElement(\"div\", {\n      class: \"form-group\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 96\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 97\n      },\n      __self: this\n    }, \"Username or email address\"), React.createElement(\"input\", {\n      onChange: this.inputChangeHandler,\n      type: \"text\",\n      class: \"form-control\",\n      autoFocus: true,\n      name: \"email\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 98\n      },\n      __self: this\n    })), React.createElement(\"div\", {\n      class: \"form-group\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 100\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 101\n      },\n      __self: this\n    }, \"Password\"), React.createElement(\"input\", {\n      onChange: this.inputChangeHandler,\n      type: \"password\",\n      class: \"form-control\",\n      name: \"password\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 102\n      },\n      __self: this\n    })), React.createElement(\"br\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 103\n      },\n      __self: this\n    }), React.createElement(\"button\", {\n      type: \"submit\",\n      style: {\n        backgroundColor: \"red\",\n        borderColor: \"red\"\n      },\n      className: \"btn btn-primary\",\n      onClick: this.submitLogin,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 106\n      },\n      __self: this\n    }, \"Sign in\"), \" \", React.createElement(\"br\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 106\n      },\n      __self: this\n    }), React.createElement(\"br\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 106\n      },\n      __self: this\n    }), faillabelcatch, React.createElement(\"div\", {\n      className: \"textAligncenter\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 108\n      },\n      __self: this\n    }, React.createElement(\"a\", {\n      href: \"#\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 109\n      },\n      __self: this\n    }, \"Forgot Username\"), React.createElement(\"br\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 109\n      },\n      __self: this\n    }), React.createElement(\"a\", {\n      href: \"#\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 110\n      },\n      __self: this\n    }, \"Forgot Password\")), React.createElement(\"div\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 112\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      style: {\n        textAlign: \"center\"\n      },\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 113\n      },\n      __self: this\n    }, React.createElement(Link, {\n      to: \"/ownersignup\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 113\n      },\n      __self: this\n    }, \"Create your account\")))))));\n  }\n\n} //export Login Component\n\n\nexport default Ownerlogin;","map":{"version":3,"sources":["/Users/kirankumarbijjala/Documents/Lab2/grubhub/Frontend/src/components/Ownerlogin.js"],"names":["React","Component","axios","cookie","Redirect","Link","ROOT_URL","Ownerlogin","constructor","props","inputChangeHandler","e","setState","target","name","value","submitLogin","headers","Headers","preventDefault","data","email","state","password","defaults","withCredentials","post","then","response","console","log","status","authFlag","sessionStorage","setItem","token","ownerdata","alert","catch","err","failcatch","failuser","componentWillMount","render","redirectVar","faillabelcatch","color","fontWeight","backgroundColor","borderColor","textAlign"],"mappings":"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","sourcesContent":["import React, { Component } from 'react';\nimport '../App.css';\nimport axios from 'axios';\nimport cookie from 'react-cookies';\nimport { Redirect } from 'react-router';\nimport { Link } from 'react-router-dom';\nconst ROOT_URL = \"http://localhost:3001\";\n\n\n//Define a Login Component\nclass Ownerlogin extends Component {\n    //call the constructor method\n    constructor(props) {\n        //Call the constrictor of Super class i.e The Component\n        super(props);   \n        //maintain the state required for this component\n        this.state = {\n            email: \"\",\n            password: \"\",\n            authFlag: false,\n            failuser: false,\n            failcatch:false\n        }\n    }\n    //Call the Will Mount to set the auth Flag to false\n    componentWillMount() {\n        this.setState({\n            authFlag: false\n        })\n    }\n    //username change handler to update state variable with the text entered by the user\n\n    inputChangeHandler = (e) => {\n        this.setState({\n            [e.target.name]: e.target.value\n        })\n    }\n\n    //submit Login handler to send a request to the node backend\n    submitLogin = (e) => {\n        var headers = new Headers();\n        //prevent page from refresh\n        e.preventDefault();\n        const data = {\n            email: this.state.email,\n            password: this.state.password\n        }\n        //set the with credentials to true\n        axios.defaults.withCredentials = true;\n        //make a post request with the user data\n        axios.post(`${ROOT_URL}/ownerlogin`, data)\n            .then(response => {\n                console.log(\"Status Code : \", response.status);\n                if (response.status === 200) {\n                    // <Redirect to=\"/Letseat\"> </Redirect>\n                    this.setState({\n                        authFlag: true\n                    })\n                    sessionStorage.setItem(\"JWT\",response.data.token);\n                    sessionStorage.setItem('email',data.email);\n                    sessionStorage.setItem('ownerdata', response.data.ownerdata);\n                    alert(\"Owner Logged in succesfully\")\n                }\n            }).catch(err=>{\n                this.setState({failcatch:true})\n            })\n    }\n\n    render() {\n        //redirect based on successful login\n       \n        let redirectVar = null;\n        if (this.state.authFlag) {\n            redirectVar = <Redirect to=\"/menu\" />\n        }\n        let faillabelcatch = null;\n        if(this.state.failcatch){\n            faillabelcatch=(\n            <label style = {{color:\"red\"}}>Please check username and password</label>\n            )\n        }\n\n        return (\n            <div>\n                {redirectVar}\n                {faillabelcatch}\n                <div class=\"container\">\n\n                    <div class=\"login-form\">\n                        <div class=\"main-div\">\n                            <div class=\"panel\">\n                                <h2 style={{ fontWeight: \"bold\", color: \"black\" }}><span style={{color:\"red\"}}>GRUBHUB</span> FOR RESTAURANTS</h2>\n\n\n                            </div>\n                            <div class=\"form-group\">\n                                <div>Username or email address</div>\n                                <input onChange={this.inputChangeHandler} type=\"text\" class=\"form-control\" autoFocus name=\"email\" />\n                            </div>\n                            <div class=\"form-group\">\n                                <div>Password</div>\n                                <input onChange={this.inputChangeHandler} type=\"password\" class=\"form-control\" name=\"password\" />\n                            </div><br></br>\n\n\n                            <button type=\"submit\" style={{backgroundColor:\"red\" , borderColor:\"red\"}} className=\"btn btn-primary\" onClick={this.submitLogin} >Sign in</button> <br></br><br></br>\n                            {faillabelcatch}\n                            <div className = \"textAligncenter\">\n                            <a href=\"#\">Forgot Username</a><br></br>\n                            <a href=\"#\">Forgot Password</a>\n                            </div>\n                            <div>\n                            <div style={{textAlign:\"center\"}}><Link to=\"/ownersignup\">Create your account</Link></div>\n                            </div> \n                        </div>\n                    </div>\n                </div>\n\n            </div>\n        )\n    }\n}\n//export Login Component\nexport default Ownerlogin;\n\n"]},"metadata":{},"sourceType":"module"}