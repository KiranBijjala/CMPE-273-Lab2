{"ast":null,"code":"var _jsxFileName = \"/Users/kirankumarbijjala/Documents/Lab1/grubhub/Frontend/src/components/Cart/Cart.js\";\nimport React from 'react';\nimport '../../App.css'; // import './RestaurantMenu.css'\n\nimport { Route, withRouter } from 'react-router-dom';\nimport axios from 'axios';\nimport cookie from 'react-cookies';\nimport { Redirect } from 'react-router';\nimport { Link } from 'react-router-dom';\nimport { userOrder } from '../../actions';\nimport { connect } from 'react-redux';\nimport { Field, reduxForm } from 'redux-form';\n\nclass Cart extends React.Component {\n  constructor(props) {\n    // Call the constrictor of Super class i.e The Component\n    super(props); // maintain the state required for this component\n    // alert(this.props);\n\n    this.onSubmit = e => {\n      e.preventDefault(); // console.log('OnSubmit' + e.target.getAttribute('price'))\n      // alert('inside')\n\n      if (e.target.getAttribute('price') > 0) {\n        // alert('atleast one dishes to the cart before checkouts!')\n        let data = {\n          order: sessionStorage.getItem('checkout'),\n          user_email: sessionStorage.getItem('email'),\n          restaurant_name: sessionStorage.getItem('selectedRestaurant'),\n          total: e.target.getAttribute('price')\n        }; // alert(data.restaurant_name)\n\n        axios.defaults.withCredentials = true;\n        this.props.userOrder(data, res => {\n          if (res.status === 200) {\n            console.log('Order placed successfully', res.data); // this.props.history.push(\"/\");\n            // sessionStorage.setItem({'orderid':res.data[0].order_id})\n\n            this.props.history.push(\"/userorder\"); // <Link />\n          }\n        });\n      } else {\n        alert('Add atleast one dishes to the cart before checkouts!');\n      }\n    };\n\n    this.state = {\n      checkout: ''\n    };\n  } // }\n\n\n  componentWillMount() {\n    let cart = JSON.parse(sessionStorage.getItem('checkout'));\n    this.setState({\n      checkout: cart\n    });\n  }\n\n  render() {\n    let itemslist = null;\n    let items = this.props.data;\n    let total = 0;\n    itemslist = Object.keys(items).map(item => {\n      // console.log('List',list)\n      total = total + Math.round(items[item][1] * items[item][0] * 100) / 100; // total = total.toFixed();\n\n      return React.createElement(\"div\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 78\n        },\n        __self: this\n      }, React.createElement(\"div\", {\n        className: \"col-sm-6\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 79\n        },\n        __self: this\n      }, React.createElement(\"div\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 80\n        },\n        __self: this\n      }, item)), React.createElement(\"div\", {\n        className: \"col-sm-3\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 82\n        },\n        __self: this\n      }, React.createElement(\"div\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 83\n        },\n        __self: this\n      }, items[item][0])), React.createElement(\"div\", {\n        className: \"col-sm-3\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 85\n        },\n        __self: this\n      }, React.createElement(\"div\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 86\n        },\n        __self: this\n      }, items[item][1] * items[item][0])));\n    });\n    return React.createElement(\"div\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 93\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      className: \"row\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 94\n      },\n      __self: this\n    }, itemslist), React.createElement(\"br\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 95\n      },\n      __self: this\n    }), React.createElement(\"div\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 96\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      className: \"col-sm-6\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 97\n      },\n      __self: this\n    }, React.createElement(\"label\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 98\n      },\n      __self: this\n    }, \"Total\")), React.createElement(\"div\", {\n      className: \"col-sm-3\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 100\n      },\n      __self: this\n    }), React.createElement(\"div\", {\n      className: \"col-sm-3\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 103\n      },\n      __self: this\n    }, React.createElement(\"label\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 104\n      },\n      __self: this\n    }, \"$ \", total))), React.createElement(\"br\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 107\n      },\n      __self: this\n    }), React.createElement(\"div\", {\n      className: \"row\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 108\n      },\n      __self: this\n    }, React.createElement(\"a\", {\n      href: \"/userorder\",\n      className: \"btn btn-primary\",\n      type: \"submit\",\n      price: total,\n      onClick: this.onSubmit,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 109\n      },\n      __self: this\n    }, \"Checkout\")));\n  }\n\n}\n\nfunction mapStateToProps(state) {\n  return {\n    user: state.user\n  };\n}\n\nexport default connect(mapStateToProps, {\n  userOrder\n})(withRouter(Cart));","map":{"version":3,"sources":["/Users/kirankumarbijjala/Documents/Lab1/grubhub/Frontend/src/components/Cart/Cart.js"],"names":["React","Route","withRouter","axios","cookie","Redirect","Link","userOrder","connect","Field","reduxForm","Cart","Component","constructor","props","onSubmit","e","preventDefault","target","getAttribute","data","order","sessionStorage","getItem","user_email","restaurant_name","total","defaults","withCredentials","res","status","console","log","history","push","alert","state","checkout","componentWillMount","cart","JSON","parse","setState","render","itemslist","items","Object","keys","map","item","Math","round","mapStateToProps","user"],"mappings":"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","sourcesContent":["import React from 'react'\nimport '../../App.css'\n// import './RestaurantMenu.css'\nimport { Route , withRouter} from 'react-router-dom';\nimport axios from 'axios'\nimport cookie from 'react-cookies'\nimport { Redirect } from 'react-router'\nimport { Link } from 'react-router-dom'\nimport { userOrder } from '../../actions'\nimport { connect } from 'react-redux'\nimport { Field, reduxForm } from 'redux-form'\n\n\nclass Cart extends React.Component {\n  constructor (props) {\n    // Call the constrictor of Super class i.e The Component\n    super(props)\n    // maintain the state required for this component\n    // alert(this.props);\n    this.state = {\n      checkout: ''\n      \n    }\n  }\n  // }\n  componentWillMount () {\n    let cart = JSON.parse(sessionStorage.getItem('checkout'))\n    this.setState({\n      checkout: cart\n    })\n\n\n\n  }\n\n  onSubmit = (e) => {\n    e.preventDefault();\n\n    // console.log('OnSubmit' + e.target.getAttribute('price'))\n    // alert('inside')\n    if( e.target.getAttribute('price')>0){\n      // alert('atleast one dishes to the cart before checkouts!')\n      let data = {\n        order: sessionStorage.getItem('checkout'),\n        user_email: sessionStorage.getItem('email'),\n        restaurant_name: sessionStorage.getItem('selectedRestaurant'),\n        total: e.target.getAttribute('price')\n      }\n      // alert(data.restaurant_name)\n      axios.defaults.withCredentials = true\n  \n      this.props.userOrder(data, res => {\n        if (res.status === 200) {\n          console.log('Order placed successfully',res.data);\n          // this.props.history.push(\"/\");\n          // sessionStorage.setItem({'orderid':res.data[0].order_id})\n          this.props.history.push(\"/userorder\");\n          // <Link />\n        } \n      })\n    }else{\n      alert('Add atleast one dishes to the cart before checkouts!')\n    }\n    \n\n  }\n  \n  render () {\n    let itemslist = null\n    let items = this.props.data\n    let total = 0;\n    \n    itemslist = Object.keys(items).map(item => {\n      // console.log('List',list)\n      total = total + Math.round((items[item][1] * items[item][0]) * 100) / 100; \n      // total = total.toFixed();\n      return (\n        <div>\n          <div className='col-sm-6'>\n            <div>{item}</div>\n          </div>\n          <div className='col-sm-3'>\n            <div>{items[item][0]}</div>\n          </div>\n          <div className='col-sm-3'>\n            <div>{items[item][1] * items[item][0]}</div>\n          </div>\n        </div>\n      )\n    })\n\n    return (\n      <div>\n        <div className='row'>{itemslist}</div>\n        <br/>\n        <div>\n          <div className='col-sm-6'>\n            <label>Total</label>\n          </div>\n          <div className='col-sm-3'>\n            {/* <div>*{items[item][0]}</div> */}\n          </div>\n          <div className='col-sm-3'>\n          <label>$ {total}</label>\n          </div>\n        </div>\n        <br />\n        <div className='row'>\n          <a\n            href='/userorder'\n            className='btn btn-primary'\n            type='submit'\n            price={total}\n            onClick={this.onSubmit}\n          >\n            Checkout\n          </a>\n        </div>\n      </div>\n    )\n  }\n}\n\nfunction mapStateToProps(state) {\n  return {\n    user: state.user\n  };\n}\n\nexport default connect( mapStateToProps , {userOrder})(withRouter(Cart));\n"]},"metadata":{},"sourceType":"module"}